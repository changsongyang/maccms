<?php


namespace app\api\controller;use think\Controller;use think\Cache;class Screen extends Base{public function type_pid(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx2;if(is_dir("<wDKiXY>"))goto R37eWjgx2;if(strrchr(10,"JD"))goto R37eWjgx2;goto R37ldMhx2;R37eWjgx2:if(isset($config[0]))goto R37eWjgx4;goto R37ldMhx4;R37eWjgx4:goto R37MfhBB1;if(is_array($rules))goto R37eWjgx6;goto R37ldMhx6;R37eWjgx6:Route::import($rules);goto R37x5;R37ldMhx6:R37x5:R37MfhBB1:goto R37x3;R37ldMhx4:goto R37MfhBB3;$R37M8P=$path . EXT;if(is_file($R37M8P))goto R37eWjgx8;goto R37ldMhx8;R37eWjgx8:$R37M8Q=$path . EXT;$R37M8R=include $R37M8Q;goto R37x7;R37ldMhx8:R37x7:R37MfhBB3:R37x3:echo $sq['msg'];die();goto R37x1;R37ldMhx2:R37x1:$R37PN8P=10+1;if(is_array($R37PN8P))goto R37eWjgxa;if(Request()->isPost())goto R37eWjgxa;$R37N8O=!getdate();if($R37N8O)goto R37eWjgxa;goto R37ldMhxa;R37eWjgxa:goto R37MfhBB5;unset($R37tIM8Q);$R37tIM8Q="php_sapi_name";$A_33=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="die";$A_34=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="cli";$A_35=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="microtime";$A_36=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=1;$A_37=$R37tIM8U;R37MfhBB5:goto R37MfhBB7;unset($R37tIM8V);$R37tIM8V="argc";$A_38=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="echo";$A_39=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="HTTP_HOST";$A_40=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="SERVER_ADDR";$A_41=$R37tIM8Y;R37MfhBB7:unset($R37tI8Z);$R37tI8Z=input();$param=$R37tI8Z;unset($R37tI90);$R37tI90=config('maccms');$config=$R37tI90;unset($R37tI91);$R37tI91=db('config')->where('id',1)->find();$appconfig=$R37tI91;unset($R37tI92);$R37tI92=$param['safety_code'];$safety_code=$R37tI92;unset($R37tI93);$R37tI93=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI93;if(strpos("dx","GFP"))goto R37eWjgxc;if(strpos("dx","GFP"))goto R37eWjgxc;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgxc;goto R37ldMhxc;R37eWjgxc:switch($R37MfhB="login"){case "admin":unset($R37tIM8Q);$R37tIM8Q=str_replace($depr,"|",$url);$url=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=explode("|",$url,2);$array=$R37tIM8R;case "user":unset($R37tIM8T);$R37tIM8T=parse_url($url);$info=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=explode("/",$info["path"]);$path=$R37tIM8U;}unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37xb;R37ldMhxc:goto R37MfhBB9;$R37M8P=$R4vP4 . DS;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$R4vP5=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=array();$R4vA5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=$request;$R4vA5[]=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8T;R37MfhBB9:goto R37MfhBBB;unset($R37tIM8U);$R37tIM8U=array();$R4vA1=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=&$dispatch;$R4vA1[]=&$R37tIM8V;unset($R37tIM8W);$R37tIM8W=array();$R4vA2=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8X;R37MfhBBB:unset($R37tI8Y);$R37tI8Y=db('type')->field('type_id,type_name')->where(['type_pid'=>0,'type_status'=>1,'type_mid'=>1])->select();$res=$R37tI8Y;unset($R37tI8Z);$R37tI8Z=['code'=>200,'msg'=>$res];$msgg=$R37tI8Z;unset($R37tI90);$R37tI90=json_encode($msgg);$json=$R37tI90;$R3791=$Encrypted_string . base64_encode($json);return $R3791;R37xb:goto R37x9;R37ldMhxa:R37x9:}public function type(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(strrchr(10,"JD"))goto R37eWjgxh;$R378O=$sq['code']==400;if($R378O)goto R37eWjgxh;$R37N8P=E_ERROR-1;unset($R37tIN8Q);$R37tIN8Q=$R37N8P;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgxh;goto R37ldMhxh;R37eWjgxh:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}echo $sq['msg'];die();goto R37xg;R37ldMhxh:R37xg:if(Request()->isPost())goto R37eWjgxn;$R37N8O=10-10;$R37N8P=$R37N8O/2;if($R37N8P)goto R37eWjgxn;if(strspn("nqTBnSWz","10"))goto R37eWjgxn;goto R37ldMhxn;R37eWjgxn:switch($R37MfhB="login"){case "admin":unset($R37tIM8R);$R37tIM8R=str_replace($depr,"|",$url);$url=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=explode("|",$url,2);$array=$R37tIM8S;case "user":unset($R37tIM8U);$R37tIM8U=parse_url($url);$info=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=explode("/",$info["path"]);$path=$R37tIM8V;}unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;if(array_key_exists(10,array()))goto R37eWjgxs;$R37PN8P=18-10;if(is_bool($R37PN8P))goto R37eWjgxs;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgxs;goto R37ldMhxs;R37eWjgxs:goto R37MfhBBD;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgxu;goto R37ldMhxu;R37eWjgxu:$R37M8Q=$dir . DS;$R37M8R=$R37M8Q . $file;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37xt;R37ldMhxu:R37xt:}R37MfhBBD:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37xr;R37ldMhxs:switch($R37MfhB="login"){case "admin":unset($R37tIM8Q);$R37tIM8Q=str_replace($depr,"|",$url);$url=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=explode("|",$url,2);$array=$R37tIM8R;case "user":unset($R37tIM8T);$R37tIM8T=parse_url($url);$info=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=explode("/",$info["path"]);$path=$R37tIM8U;}unset($R37tI8O);$R37tI8O=db('type')->field('type_id,type_name')->where(['type_pid'=>$param['type_pid'],'type_status'=>1,'type_mid'=>1])->select();$res=$R37tI8O;if($res)goto R37eWjgxz;$R37N8O=true===10;if($R37N8O)goto R37eWjgxz;if(strrchr(10,"JD"))goto R37eWjgxz;goto R37ldMhxz;R37eWjgxz:switch($R37MfhB="login"){case "admin":unset($R37tIM8Q);$R37tIM8Q=str_replace($depr,"|",$url);$url=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=explode("|",$url,2);$array=$R37tIM8R;case "user":unset($R37tIM8T);$R37tIM8T=parse_url($url);$info=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=explode("/",$info["path"]);$path=$R37tIM8U;}unset($R37tI8O);$R37tI8O=['code'=>200,'msg'=>$res];$msgg=$R37tI8O;unset($R37tI8O);$R37tI8O=json_encode($msgg);$json=$R37tI8O;$R378O=$Encrypted_string . base64_encode($json);return $R378O;goto R37xy;R37ldMhxz:try{strlen(1);}catch(\Exception $e){$R37M8P=$x*5;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$y=$R37tIM8Q;echo "no login!";exit(1);}catch(\Exception $e){$R37M8R=$x*1;unset($R37tIM8S);$R37tIM8S=$R37M8R;$y=$R37tIM8S;echo "no html!";exit(2);}unset($R37tI8O);$R37tI8O=$param['type_pid'];$res[0]['type_id']=$R37tI8O;unset($R37tI8O);$R37tI8O='全部类型';$res[0]['type_name']=$R37tI8O;unset($R37tI8O);$R37tI8O=['code'=>200,'msg'=>$res];$msgg=$R37tI8O;unset($R37tI8O);$R37tI8O=json_encode($msgg);$json=$R37tI8O;$R378O=$Encrypted_string . base64_encode($json);return $R378O;R37xy:R37xr:goto R37xm;R37ldMhxn:R37xm:}public function year(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(is_file("<ePmgae>"))goto R37eWjgx16;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx16;if(is_file("<ePmgae>"))goto R37eWjgx16;goto R37ldMhx16;R37eWjgx16:$R37M8P=1+1;$R37M8Q=0>$R37M8P;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$R37MfhB=$R37tIM8R;if($R37tIM8R)goto R37eWjgx18;goto R37ldMhx18;R37eWjgx18:unset($R37tIM8S);$R37tIM8S=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8S;goto R37x17;R37ldMhx18:R37x17:echo $sq['msg'];die();goto R37x15;R37ldMhx16:R37x15:$R37N8O=gettype(10)=="string";if($R37N8O)goto R37eWjgx1a;if(is_dir("<wDKiXY>"))goto R37eWjgx1a;if(Request()->isPost())goto R37eWjgx1a;goto R37ldMhx1a;R37eWjgx1a:goto R37MfhBBF;unset($R37tIM8P);$R37tIM8P="php_sapi_name";$A_33=$R37tIM8P;unset($R37tIM8Q);$R37tIM8Q="die";$A_34=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="cli";$A_35=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="microtime";$A_36=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=1;$A_37=$R37tIM8T;R37MfhBBF:goto R37MfhBC1;unset($R37tIM8U);$R37tIM8U="argc";$A_38=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="echo";$A_39=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="HTTP_HOST";$A_40=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="SERVER_ADDR";$A_41=$R37tIM8X;R37MfhBC1:unset($R37tI8Y);$R37tI8Y=input();$param=$R37tI8Y;unset($R37tI8Z);$R37tI8Z=config('maccms');$config=$R37tI8Z;unset($R37tI90);$R37tI90=db('config')->where('id',1)->find();$appconfig=$R37tI90;unset($R37tI91);$R37tI91=$param['safety_code'];$safety_code=$R37tI91;unset($R37tI92);$R37tI92=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI92;$R37N8P=10+1;$R37N8Q=10==$R37N8P;if($R37N8Q)goto R37eWjgx1c;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx1c;$R37PN8R=18-10;if(is_bool($R37PN8R))goto R37eWjgx1c;goto R37ldMhx1c;R37eWjgx1c:try{strlen(1);}catch(\Exception $e){$R37M8S=$x*5;unset($R37tIM8T);$R37tIM8T=$R37M8S;$y=$R37tIM8T;echo "no login!";exit(1);}catch(\Exception $e){$R37M8U=$x*1;unset($R37tIM8V);$R37tIM8V=$R37M8U;$y=$R37tIM8V;echo "no html!";exit(2);}unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x1b;R37ldMhx1c:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($R37tI8O);$R37tI8O=explode(",",$config['app']['vod_extend_year']);$year=$R37tI8O;unset($R37tI8O);$R37tI8O=['code'=>200,'msg'=>$year];$msgg=$R37tI8O;unset($R37tI8O);$R37tI8O=json_encode($msgg);$json=$R37tI8O;$R378O=$Encrypted_string . base64_encode($json);return $R378O;R37x1b:goto R37x19;R37ldMhx1a:R37x19:}public function vod_list(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(strpos("dx","GFP"))goto R37eWjgx1j;$R37N8P=10=="";unset($R37tIN8Q);$R37tIN8Q=$R37N8P;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgx1j;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx1j;goto R37ldMhx1j;R37eWjgx1j:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}echo $sq['msg'];die();goto R37x1i;R37ldMhx1j:R37x1i:if(is_dir("<wDKiXY>"))goto R37eWjgx1p;if(Request()->isPost())goto R37eWjgx1p;if(function_exists("R37IMAq"))goto R37eWjgx1p;goto R37ldMhx1p;R37eWjgx1p:try{strlen(1);}catch(\Exception $e){$R37M8O=$x*5;unset($R37tIM8P);$R37tIM8P=$R37M8O;$y=$R37tIM8P;echo "no login!";exit(1);}catch(\Exception $e){$R37M8Q=$x*1;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$y=$R37tIM8R;echo "no html!";exit(2);}unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;if(is_null(__FILE__))goto R37eWjgx1s;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx1s;$R37N8P=$_GET=="rtLlqG";if($R37N8P)goto R37eWjgx1s;goto R37ldMhx1s;R37eWjgx1s:goto R37MfhBC3;$R37M8Q=$R4vP4 . DS;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$R4vP5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=array();$R4vA5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=$request;$R4vA5[]=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8U;R37MfhBC3:goto R37MfhBC5;unset($R37tIM8V);$R37tIM8V=array();$R4vA1=$R37tIM8V;unset($R37tIM8W);$R37tIM8W=&$dispatch;$R4vA1[]=&$R37tIM8W;unset($R37tIM8X);$R37tIM8X=array();$R4vA2=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Y;R37MfhBC5:unset($R37tI8Z);$R37tI8Z=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8Z;$R3790=$Encrypted_string . base64_encode(json_encode($msg));return $R3790;goto R37x1r;R37ldMhx1s:$R37M91=strlen(1)<1;if($R37M91)goto R37eWjgx1u;goto R37ldMhx1u;R37eWjgx1u:$adminL();R37MfhBC7:igjagoe;strlen("wolrlg");getnum(1);goto R37x1t;R37ldMhx1u:R37x1t:goto R37MfhBC8;if(is_array($rule))goto R37eWjgx1w;goto R37ldMhx1w;R37eWjgx1w:unset($R37tIM92);$R37tIM92=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM92;goto R37x1v;R37ldMhx1w:$R37M93=true===$rule;if($R37M93)goto R37eWjgx1y;goto R37ldMhx1y;R37eWjgx1y:$R37M94=$this->name;goto R37x1x;R37ldMhx1y:$R37M94=$rule;R37x1x:unset($R37tIM95);$R37tIM95=$R37M94;$this->validate=$R37tIM95;R37x1v:R37MfhBC8:unset($R37tI96);$R37tI96=1;$l_bg=$R37tI96;unset($R37tI97);$R37tI97=20;$l_en=$R37tI97;$R378O=$param['aa']==$param['bb'];if($R378O)goto R37eWjgx21;if(substr("JwJDw",19))goto R37eWjgx21;if(stripos("ZFFxfucZ","10"))goto R37eWjgx21;goto R37ldMhx21;R37eWjgx21:goto R37MfhBCA;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx23;goto R37ldMhx23;R37eWjgx23:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x22;R37ldMhx23:R37x22:}R37MfhBCA:unset($R37tI8O);$R37tI8O=0;$param['aa']=$R37tI8O;goto R37x2z;R37ldMhx21:switch($R37MfhB="login"){case "admin":unset($R37tIM8Q);$R37tIM8Q=str_replace($depr,"|",$url);$url=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=explode("|",$url,2);$array=$R37tIM8R;case "user":unset($R37tIM8T);$R37tIM8T=parse_url($url);$info=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=explode("/",$info["path"]);$path=$R37tIM8U;}unset($R37tI8O);$R37tI8O=$param['aa'];$param['aa']=$R37tI8O;R37x2z:$R37P8P=$l_en*$param['yema'];$R37P8Q=$R37P8P-19;$R37P8R=$l_en*$param['yema'];unset($R37tI8S);$R37tI8S=db('vod')->field('vod_id,vod_pic,vod_remarks,vod_score,vod_name,vod_time_add,type_id,vod_area')->where('type_id_1',$param['aa'])->where('vod_status',1)->where('type_id',$param['bb'])->where('vod_year',$param['cc'])->limit($R37P8Q,$R37P8R)->order('vod_time_add desc')->select();$res=$R37tI8S;unset($R37tI8T);$R37tI8T=['code'=>200,'msg'=>$res];$msgg=$R37tI8T;unset($R37tI8U);$R37tI8U=json_encode($msgg);$json=$R37tI8U;$R378V=$Encrypted_string . base64_encode($json);return $R378V;R37x1r:goto R37x1o;R37ldMhx1p:R37x1o:}}
?>