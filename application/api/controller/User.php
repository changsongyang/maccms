<?php


namespace app\api\controller;use think\Controller;use think\Cache;class User extends Base{public function reg(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R37N8P=10-10;$R37N8Q=$R37N8P/2;if($R37N8Q)goto R37eWjgx2;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx2;if(strrchr(10,"JD"))goto R37eWjgx2;goto R37ldMhx2;R37eWjgx2:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}echo $sq['msg'];die();goto R37x1;R37ldMhx2:R37x1:$R37N8O=10-10;$R37N8P=$R37N8O/2;if($R37N8P)goto R37eWjgx8;if(Request()->isPost())goto R37eWjgx8;$R37N8Q=10+1;$R37N8R=10>$R37N8Q;if($R37N8R)goto R37eWjgx8;goto R37ldMhx8;R37eWjgx8:goto R37MfhB104;unset($R37tIM8S);$R37tIM8S="php_sapi_name";$A_33=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="die";$A_34=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="cli";$A_35=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="microtime";$A_36=$R37tIM8V;unset($R37tIM8W);$R37tIM8W=1;$A_37=$R37tIM8W;R37MfhB104:goto R37MfhB106;unset($R37tIM8X);$R37tIM8X="argc";$A_38=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="echo";$A_39=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="HTTP_HOST";$A_40=$R37tIM8Z;unset($R37tIM90);$R37tIM90="SERVER_ADDR";$A_41=$R37tIM90;R37MfhB106:unset($R37tI91);$R37tI91=input();$param=$R37tI91;unset($R37tI92);$R37tI92=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI92;unset($R37tI93);$R37tI93=model('Userapp')->register($param);$res=$R37tI93;$R3794=$Encrypted_string . base64_encode(json_encode($res));return $R3794;goto R37x7;R37ldMhx8:R37x7:}public function login(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgxa;if(strpos("dx","GFP"))goto R37eWjgxa;$R37N8P=10+1;$R37N8Q=E_STRICT==$R37N8P;if($R37N8Q)goto R37eWjgxa;goto R37ldMhxa;R37eWjgxa:goto R37MfhB108;unset($R37tIM8R);$R37tIM8R="php_sapi_name";$A_33=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="die";$A_34=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="cli";$A_35=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="microtime";$A_36=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=1;$A_37=$R37tIM8V;R37MfhB108:goto R37MfhB10A;unset($R37tIM8W);$R37tIM8W="argc";$A_38=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="echo";$A_39=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="HTTP_HOST";$A_40=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="SERVER_ADDR";$A_41=$R37tIM8Z;R37MfhB10A:echo $sq['msg'];die();goto R37x9;R37ldMhxa:R37x9:$R37N8Q=0==strlen(10);if($R37N8Q)goto R37eWjgxc;if(Request()->isPost())goto R37eWjgxc;$R37N8O=10-10;$R37N8P=$R37N8O/2;if($R37N8P)goto R37eWjgxc;goto R37ldMhxc;R37eWjgxc:goto R37MfhB10C;$R37M8R=$R4vP4 . DS;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R4vP5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=array();$R4vA5=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=$request;$R4vA5[]=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8V;R37MfhB10C:goto R37MfhB10E;unset($R37tIM8W);$R37tIM8W=array();$R4vA1=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=&$dispatch;$R4vA1[]=&$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=array();$R4vA2=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Z;R37MfhB10E:unset($R37tI90);$R37tI90=input();$param=$R37tI90;unset($R37tI91);$R37tI91=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI91;unset($R37tI92);$R37tI92=model('Userapp')->login($param);$res=$R37tI92;$R3793=$Encrypted_string . base64_encode(json_encode($res));return $R3793;goto R37xb;R37ldMhxc:R37xb:}public function ulog_save(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgxe;unset($R37tIN8Q);$R37tIN8Q=false;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgxe;$R37N8P=count(array(10,20))==13;if($R37N8P)goto R37eWjgxe;goto R37ldMhxe;R37eWjgxe:if(isset($config[0]))goto R37eWjgxg;goto R37ldMhxg;R37eWjgxg:goto R37MfhB110;if(is_array($rules))goto R37eWjgxi;goto R37ldMhxi;R37eWjgxi:Route::import($rules);goto R37xh;R37ldMhxi:R37xh:R37MfhB110:goto R37xf;R37ldMhxg:goto R37MfhB112;$R37M8R=$path . EXT;if(is_file($R37M8R))goto R37eWjgxk;goto R37ldMhxk;R37eWjgxk:$R37M8S=$path . EXT;$R37M8T=include $R37M8S;goto R37xj;R37ldMhxk:R37xj:R37MfhB112:R37xf:echo $sq['msg'];die();goto R37xd;R37ldMhxe:R37xd:if(Request()->isPost())goto R37eWjgxm;$R37N8O=gettype(E_PARSE)=="sMzQC";if($R37N8O)goto R37eWjgxm;$R37PN8P=10+1;$R37N8Q=trim($R37PN8P)==10;if($R37N8Q)goto R37eWjgxm;goto R37ldMhxm;R37eWjgxm:$R37M8R=1+1;$R37M8S=0>$R37M8R;unset($R37tIM8T);$R37tIM8T=$R37M8S;$R37MfhB=$R37tIM8T;if($R37tIM8T)goto R37eWjgxo;goto R37ldMhxo;R37eWjgxo:unset($R37tIM8U);$R37tIM8U=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8U;goto R37xn;R37ldMhxo:R37xn:unset($R37tI8O);$R37tI8O=input();$data=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$data['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgxq;unset($R37tIPN8P);$R37tIPN8P="mawjr";$R37IMAq=$R37tIPN8P;$R37N8Q=!strlen($R37tIPN8P);if($R37N8Q)goto R37eWjgxq;$R37N8R=!getdate();if($R37N8R)goto R37eWjgxq;goto R37ldMhxq;R37eWjgxq:goto R37MfhB114;unset($R37tIM8S);$R37tIM8S="php_sapi_name";$A_33=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="die";$A_34=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="cli";$A_35=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="microtime";$A_36=$R37tIM8V;unset($R37tIM8W);$R37tIM8W=1;$A_37=$R37tIM8W;R37MfhB114:goto R37MfhB116;unset($R37tIM8X);$R37tIM8X="argc";$A_38=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="echo";$A_39=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="HTTP_HOST";$A_40=$R37tIM8Z;unset($R37tIM90);$R37tIM90="SERVER_ADDR";$A_41=$R37tIM90;R37MfhB116:unset($R37tI91);$R37tI91=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI91;$R3792=$Encrypted_string . base64_encode(json_encode($msg));return $R3792;goto R37xp;R37ldMhxq:switch($R37MfhB="login"){case "admin":unset($R37tIM94);$R37tIM94=str_replace($depr,"|",$url);$url=$R37tIM94;unset($R37tIM95);$R37tIM95=explode("|",$url,2);$array=$R37tIM95;case "user":unset($R37tIM97);$R37tIM97=parse_url($url);$info=$R37tIM97;unset($R37tIM98);$R37tIM98=explode("/",$info["path"]);$path=$R37tIM98;}unset($R37tI99);$R37tI99=1;$data['type']=$R37tI99;unset($R37tI9A);$R37tI9A=model('Ulog')->saveData($data);$res=$R37tI9A;$R379B=$Encrypted_string . base64_encode(json_encode($res));return $R379B;R37xp:goto R37xl;R37ldMhxm:R37xl:}public function history(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R37N8P=10+1;$R37N8Q=10==$R37N8P;if($R37N8Q)goto R37eWjgxv;if(is_object(null))goto R37eWjgxv;$R378O=$sq['code']==400;if($R378O)goto R37eWjgxv;goto R37ldMhxv;R37eWjgxv:if(isset($_GET))goto R37eWjgxx;goto R37ldMhxx;R37eWjgxx:array();goto R37MfhB118;$R37M8R=CONF_PATH . $module;$R37M8S=$R37M8R . database;$R37M8T=$R37M8S . CONF_EXT;unset($R37tIM8U);$R37tIM8U=$R37M8T;$filename=$R37tIM8U;R37MfhB118:goto R37xw;R37ldMhxx:if(strpos($file,"."))goto R37eWjgxz;goto R37ldMhxz;R37eWjgxz:$R37M8V=$file;goto R37xy;R37ldMhxz:$R37M8W=APP_PATH . $file;$R37M8X=$R37M8W . EXT;$R37M8V=$R37M8X;R37xy:unset($R37tIM8Y);$R37tIM8Y=$R37M8V;$file=$R37tIM8Y;$R37M90=(bool)is_file($file);if($R37M90)goto R37eWjgx13;goto R37ldMhx13;R37eWjgx13:$R37M8Z=!isset(user::$file[$file]);$R37M90=(bool)$R37M8Z;goto R37x12;R37ldMhx13:R37x12:if($R37M90)goto R37eWjgx14;goto R37ldMhx14;R37eWjgx14:$R37M91=include $file;unset($R37tIM92);$R37tIM92=true;user::$file[$file]=$R37tIM92;goto R37x11;R37ldMhx14:R37x11:R37xw:echo $sq['msg'];die();goto R37xu;R37ldMhxv:R37xu:if(Request()->isPost())goto R37eWjgx16;$R37N8O=chr(10)=="U";if($R37N8O)goto R37eWjgx16;$R37N8P=10+1;$R37N8Q=10>$R37N8P;if($R37N8Q)goto R37eWjgx16;goto R37ldMhx16;R37eWjgx16:goto R37MfhB11A;unset($R37tIM8R);$R37tIM8R="php_sapi_name";$A_33=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="die";$A_34=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="cli";$A_35=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="microtime";$A_36=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=1;$A_37=$R37tIM8V;R37MfhB11A:goto R37MfhB11C;unset($R37tIM8W);$R37tIM8W="argc";$A_38=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="echo";$A_39=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="HTTP_HOST";$A_40=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="SERVER_ADDR";$A_41=$R37tIM8Z;R37MfhB11C:unset($R37tI90);$R37tI90=input();$param=$R37tI90;unset($R37tI91);$R37tI91=1;$l_bg=$R37tI91;unset($R37tI92);$R37tI92=20;$l_en=$R37tI92;$R37P93=$l_en*$param['yema'];$R37P94=$R37P93-20;$R37P95=$l_en*$param['yema'];unset($R37tI96);$R37tI96=db('vod')->alias('a')->field('vod_play_url,vod_score,vod_director,vod_content,vod_id,vod_name,type_id,vod_status,vod_actor,type_id,vod_year,vod_remarks,vod_class,vod_area,vod_blurb,vod_pic,ulog_rid,ulog_nid,ulog_time,ulog_type,user_id')->join('ulog b','a.vod_id=b.ulog_rid')->where(['vod_status'=>1,'ulog_type'=>4,'user_id'=>$param['user_id']])->limit($R37P94,$R37P95)->order('ulog_time desc')->select();$res['data']=$R37tI96;foreach($res['data']as $key=>$value){unset($R37tI8O);$R37tI8O=date('Y-m-d H:i:s',$res['data'][$key]['ulog_time']);$res['data'][$key]['ulog_time']=$R37tI8O;unset($R37tI8O);$R37tI8O=strstr($res['data'][$key]['vod_play_url'],'$$$');$domain=$R37tI8O;$R37PN8P=10-1;if(is_null($R37PN8P))goto R37eWjgx18;if($domain)goto R37eWjgx18;$R37N8O=gettype(10)=="string";if($R37N8O)goto R37eWjgx18;goto R37ldMhx18;R37eWjgx18:if(isset($_GET))goto R37eWjgx1a;goto R37ldMhx1a;R37eWjgx1a:array();goto R37MfhB11E;$R37M8Q=CONF_PATH . $module;$R37M8R=$R37M8Q . database;$R37M8S=$R37M8R . CONF_EXT;unset($R37tIM8T);$R37tIM8T=$R37M8S;$filename=$R37tIM8T;R37MfhB11E:goto R37x19;R37ldMhx1a:if(strpos($file,"."))goto R37eWjgx1c;goto R37ldMhx1c;R37eWjgx1c:$R37M8U=$file;goto R37x1b;R37ldMhx1c:$R37M8V=APP_PATH . $file;$R37M8W=$R37M8V . EXT;$R37M8U=$R37M8W;R37x1b:unset($R37tIM8X);$R37tIM8X=$R37M8U;$file=$R37tIM8X;$R37M8Z=(bool)is_file($file);if($R37M8Z)goto R37eWjgx1f;goto R37ldMhx1f;R37eWjgx1f:$R37M8Y=!isset(user::$file[$file]);$R37M8Z=(bool)$R37M8Y;goto R37x1e;R37ldMhx1f:R37x1e:if($R37M8Z)goto R37eWjgx1g;goto R37ldMhx1g;R37eWjgx1g:$R37M90=include $file;unset($R37tIM91);$R37tIM91=true;user::$file[$file]=$R37tIM91;goto R37x1d;R37ldMhx1g:R37x1d:R37x19:unset($R37tI8O);$R37tI8O=substr($res['data'][$key]['vod_play_url'],0,strrpos($res['data'][$key]['vod_play_url'],"$$$"));$ccc=$R37tI8O;unset($R37tI8O);$R37tI8O=explode("#",$ccc);$ddd=$R37tI8O;goto R37x17;R37ldMhx18:goto R37MfhB120;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx1i;goto R37ldMhx1i;R37eWjgx1i:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x1h;R37ldMhx1i:R37x1h:}R37MfhB120:unset($R37tI8O);$R37tI8O=explode("#",$res['data'][$key]['vod_play_url']);$ddd=$R37tI8O;R37x17:foreach($ddd as $k=>$v){unset($R37tI8O);$R37tI8O=substr($ddd[$k],0,strrpos($ddd[$k],"$"));$ddd[$k]=$R37tI8O;}$R378O=$res['data'][$key]['ulog_nid']-1;unset($R37tI8P);$R37tI8P=$R378O;$ulog_nid=$R37tI8P;unset($R37tI8O);$R37tI8O=$ddd[$ulog_nid];$res['data'][$key]['ji']=$R37tI8O;}return json_encode($res);goto R37x15;R37ldMhx16:R37x15:}public function clear_ulog($user_id){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(is_file("<ePmgae>"))goto R37eWjgx1k;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx1k;if(strpos("dx","GFP"))goto R37eWjgx1k;goto R37ldMhx1k;R37eWjgx1k:goto R37MfhB122;$R37M8P=$R4vP4 . DS;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$R4vP5=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=array();$R4vA5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=$request;$R4vA5[]=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8T;R37MfhB122:goto R37MfhB124;unset($R37tIM8U);$R37tIM8U=array();$R4vA1=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=&$dispatch;$R4vA1[]=&$R37tIM8V;unset($R37tIM8W);$R37tIM8W=array();$R4vA2=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8X;R37MfhB124:echo $sq['msg'];die();goto R37x1j;R37ldMhx1k:R37x1j:$R37N8O=10-10;$R37N8P=$R37N8O/2;if($R37N8P)goto R37eWjgx1m;if(Request()->isPost())goto R37eWjgx1m;if(substr("JwJDw",19))goto R37eWjgx1m;goto R37ldMhx1m;R37eWjgx1m:$R37M8Q=1+1;$R37M8R=0>$R37M8Q;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R37MfhB=$R37tIM8S;if($R37tIM8S)goto R37eWjgx1o;goto R37ldMhx1o;R37eWjgx1o:unset($R37tIM8T);$R37tIM8T=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8T;goto R37x1n;R37ldMhx1o:R37x1n:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=db('ulog')->where(['user_id'=>$param['user_id'],'ulog_type'=>$param['ulog_type']])->delete();$res=$R37tI8O;if($res)goto R37eWjgx1q;if(is_file("<ePmgae>"))goto R37eWjgx1q;if(is_file("<ePmgae>"))goto R37eWjgx1q;goto R37ldMhx1q;R37eWjgx1q:if(isset($config[0]))goto R37eWjgx1s;goto R37ldMhx1s;R37eWjgx1s:goto R37MfhB126;if(is_array($rules))goto R37eWjgx1u;goto R37ldMhx1u;R37eWjgx1u:Route::import($rules);goto R37x1t;R37ldMhx1u:R37x1t:R37MfhB126:goto R37x1r;R37ldMhx1s:goto R37MfhB128;$R37M8O=$path . EXT;if(is_file($R37M8O))goto R37eWjgx1w;goto R37ldMhx1w;R37eWjgx1w:$R37M8P=$path . EXT;$R37M8Q=include $R37M8P;goto R37x1v;R37ldMhx1w:R37x1v:R37MfhB128:R37x1r:return 200;goto R37x1p;R37ldMhx1q:R37x1p:goto R37x1l;R37ldMhx1m:R37x1l:}public function collection(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(stripos("ZFFxfucZ","10"))goto R37eWjgx1y;if(strpos("dx","GFP"))goto R37eWjgx1y;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx1y;goto R37ldMhx1y;R37eWjgx1y:if(isset($config[0]))goto R37eWjgx21;goto R37ldMhx21;R37eWjgx21:goto R37MfhB12A;if(is_array($rules))goto R37eWjgx23;goto R37ldMhx23;R37eWjgx23:Route::import($rules);goto R37x22;R37ldMhx23:R37x22:R37MfhB12A:goto R37x2z;R37ldMhx21:goto R37MfhB12C;$R37M8P=$path . EXT;if(is_file($R37M8P))goto R37eWjgx25;goto R37ldMhx25;R37eWjgx25:$R37M8Q=$path . EXT;$R37M8R=include $R37M8Q;goto R37x24;R37ldMhx25:R37x24:R37MfhB12C:R37x2z:echo $sq['msg'];die();goto R37x1x;R37ldMhx1y:R37x1x:$R37PN8O=18-10;if(is_bool($R37PN8O))goto R37eWjgx27;if(Request()->isPost())goto R37eWjgx27;if(substr("JwJDw",19))goto R37eWjgx27;goto R37ldMhx27;R37eWjgx27:if(isset($config[0]))goto R37eWjgx29;goto R37ldMhx29;R37eWjgx29:goto R37MfhB12E;if(is_array($rules))goto R37eWjgx2b;goto R37ldMhx2b;R37eWjgx2b:Route::import($rules);goto R37x2a;R37ldMhx2b:R37x2a:R37MfhB12E:goto R37x28;R37ldMhx29:goto R37MfhB130;$R37M8P=$path . EXT;if(is_file($R37M8P))goto R37eWjgx2d;goto R37ldMhx2d;R37eWjgx2d:$R37M8Q=$path . EXT;$R37M8R=include $R37M8Q;goto R37x2c;R37ldMhx2d:R37x2c:R37MfhB130:R37x28:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=1;$l_bg=$R37tI8O;unset($R37tI8O);$R37tI8O=20;$l_en=$R37tI8O;$R37P8O=$l_en*$param['yema'];$R37P8P=$R37P8O-20;$R37P8Q=$l_en*$param['yema'];unset($R37tI8R);$R37tI8R=db('vod')->alias('a')->field('vod_play_url,vod_score,vod_director,vod_content,vod_id,vod_name,type_id,vod_status,vod_actor,type_id,vod_year,vod_remarks,vod_class,vod_area,vod_blurb,vod_pic,ulog_rid,ulog_nid,ulog_time,ulog_type,user_id')->join('ulog b','a.vod_id=b.ulog_rid')->where(['vod_status'=>1,'ulog_type'=>2,'user_id'=>$param['user_id']])->limit($R37P8P,$R37P8Q)->order('ulog_time desc')->select();$res['data']=$R37tI8R;foreach($res['data']as $key=>$value){unset($R37tI8O);$R37tI8O=date('Y-m-d H:i:s',$res['data'][$key]['ulog_time']);$res['data'][$key]['ulog_time']=$R37tI8O;}return json_encode($res);goto R37x26;R37ldMhx27:R37x26:}public function upgrade(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(is_dir("<wDKiXY>"))goto R37eWjgx2f;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx2f;if(strnatcmp(10,10))goto R37eWjgx2f;goto R37ldMhx2f;R37eWjgx2f:if(isset($_GET))goto R37eWjgx2h;goto R37ldMhx2h;R37eWjgx2h:array();goto R37MfhB132;$R37M8P=CONF_PATH . $module;$R37M8Q=$R37M8P . database;$R37M8R=$R37M8Q . CONF_EXT;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;R37MfhB132:goto R37x2g;R37ldMhx2h:if(strpos($file,"."))goto R37eWjgx2j;goto R37ldMhx2j;R37eWjgx2j:$R37M8T=$file;goto R37x2i;R37ldMhx2j:$R37M8U=APP_PATH . $file;$R37M8V=$R37M8U . EXT;$R37M8T=$R37M8V;R37x2i:unset($R37tIM8W);$R37tIM8W=$R37M8T;$file=$R37tIM8W;$R37M8Y=(bool)is_file($file);if($R37M8Y)goto R37eWjgx2m;goto R37ldMhx2m;R37eWjgx2m:$R37M8X=!isset(user::$file[$file]);$R37M8Y=(bool)$R37M8X;goto R37x2l;R37ldMhx2m:R37x2l:if($R37M8Y)goto R37eWjgx2n;goto R37ldMhx2n;R37eWjgx2n:$R37M8Z=include $file;unset($R37tIM90);$R37tIM90=true;user::$file[$file]=$R37tIM90;goto R37x2k;R37ldMhx2n:R37x2k:R37x2g:echo $sq['msg'];die();goto R37x2e;R37ldMhx2f:R37x2e:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;if(Request()->isPost())goto R37eWjgx2p;$R37PN8Q=10+1;if(is_array($R37PN8Q))goto R37eWjgx2p;$R37N8O=E_ERROR-1;unset($R37tIN8P);$R37tIN8P=$R37N8O;$R37IMAq=$R37tIN8P;if($R37tIN8P)goto R37eWjgx2p;goto R37ldMhx2p;R37eWjgx2p:if(function_exists("R37MfhB"))goto R37eWjgx2r;goto R37ldMhx2r;R37eWjgx2r:unset($R37tIM8R);$R37tIM8R=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8R;foreach($var_12["arr_1"] as $k=>$vo){$R37M8S=gettype($var_12["arr_1"][$k])=="string";$R37M8U=(bool)$R37M8S;if($R37M8U)goto R37eWjgx2t;goto R37ldMhx2t;R37eWjgx2t:unset($R37tIM8T);$R37tIM8T=fun_3($vo);unset($R37tIM8V);$R37tIM8V=$R37tIM8T;$var_12["arr_1"][$k]=$R37tIM8V;$R37M8U=(bool)$R37tIM8T;goto R37x2s;R37ldMhx2t:R37x2s:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x2q;R37ldMhx2r:goto R37MfhB134;$R37M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8X=require $R37M8W;$R37M8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Z=require $R37M8Y;$R37M90=V_DATA . fun_2("arr_1",10);$R37M91=require $R37M90;R37MfhB134:R37x2q:unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R37PN8P=10+1;$R37N8Q=trim($R37PN8P)==10;if($R37N8Q)goto R37eWjgx2v;if(key(array(10)))goto R37eWjgx2v;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx2v;goto R37ldMhx2v;R37eWjgx2v:goto R37MfhB136;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx2x;goto R37ldMhx2x;R37eWjgx2x:$R37M8R=$dir . DS;$R37M8S=$R37M8R . $file;unset($R37tIM8T);$R37tIM8T=$R37M8S;$filename=$R37tIM8T;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x2w;R37ldMhx2x:R37x2w:}R37MfhB136:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x2u;R37ldMhx2v:goto R37MfhB138;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx3z;goto R37ldMhx3z;R37eWjgx3z:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x2y;R37ldMhx3z:R37x2y:}R37MfhB138:unset($R37tI8O);$R37tI8O=model('Userapp')->upgrade($param);$res=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($res));return $R378O;R37x2u:goto R37x2o;R37ldMhx2p:R37x2o:}public function getuser_info(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx32;if(strrchr(10,"JD"))goto R37eWjgx32;$R37N8P=1+10;$R37N8Q=$R37N8P<10;if($R37N8Q)goto R37eWjgx32;goto R37ldMhx32;R37eWjgx32:if(function_exists("R37MfhB"))goto R37eWjgx34;goto R37ldMhx34;R37eWjgx34:unset($R37tIM8R);$R37tIM8R=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8R;foreach($var_12["arr_1"] as $k=>$vo){$R37M8S=gettype($var_12["arr_1"][$k])=="string";$R37M8U=(bool)$R37M8S;if($R37M8U)goto R37eWjgx36;goto R37ldMhx36;R37eWjgx36:unset($R37tIM8T);$R37tIM8T=fun_3($vo);unset($R37tIM8V);$R37tIM8V=$R37tIM8T;$var_12["arr_1"][$k]=$R37tIM8V;$R37M8U=(bool)$R37tIM8T;goto R37x35;R37ldMhx36:R37x35:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x33;R37ldMhx34:goto R37MfhB13A;$R37M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8X=require $R37M8W;$R37M8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Z=require $R37M8Y;$R37M90=V_DATA . fun_2("arr_1",10);$R37M91=require $R37M90;R37MfhB13A:R37x33:echo $sq['msg'];die();goto R37x31;R37ldMhx32:R37x31:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;if(Request()->isPost())goto R37eWjgx38;if(stripos("ZFFxfucZ","10"))goto R37eWjgx38;$R37N8O=10-10;if($R37N8O)goto R37eWjgx38;goto R37ldMhx38;R37eWjgx38:goto R37MfhB13C;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx3a;goto R37ldMhx3a;R37eWjgx3a:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x39;R37ldMhx3a:R37x39:}R37MfhB13C:unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx3c;if(substr("JwJDw",19))goto R37eWjgx3c;$R37N8P=strlen("sahQnB")==0;if($R37N8P)goto R37eWjgx3c;goto R37ldMhx3c;R37eWjgx3c:if(function_exists("R37MfhB"))goto R37eWjgx3e;goto R37ldMhx3e;R37eWjgx3e:unset($R37tIM8Q);$R37tIM8Q=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8Q;foreach($var_12["arr_1"] as $k=>$vo){$R37M8R=gettype($var_12["arr_1"][$k])=="string";$R37M8T=(bool)$R37M8R;if($R37M8T)goto R37eWjgx3g;goto R37ldMhx3g;R37eWjgx3g:unset($R37tIM8S);$R37tIM8S=fun_3($vo);unset($R37tIM8U);$R37tIM8U=$R37tIM8S;$var_12["arr_1"][$k]=$R37tIM8U;$R37M8T=(bool)$R37tIM8S;goto R37x3f;R37ldMhx3g:R37x3f:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x3d;R37ldMhx3e:goto R37MfhB13E;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8W=require $R37M8V;$R37M8X=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Y=require $R37M8X;$R37M8Z=V_DATA . fun_2("arr_1",10);$R37M90=require $R37M8Z;R37MfhB13E:R37x3d:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x3b;R37ldMhx3c:$R37M8P=1+1;$R37M8Q=0>$R37M8P;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$R37MfhB=$R37tIM8R;if($R37tIM8R)goto R37eWjgx3i;goto R37ldMhx3i;R37eWjgx3i:unset($R37tIM8S);$R37tIM8S=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8S;goto R37x3h;R37ldMhx3i:R37x3h:unset($R37tI8O);$R37tI8O=db('user')->where('user_id',$param['user_id'])->find();$res=$R37tI8O;unset($R37tI8O);$R37tI8O=date('Y-m-d H:i:s',$res['user_end_time']);$res['user_vip_time']=$R37tI8O;unset($R37tI8O);$R37tI8O=db('group')->where('group_id',3)->find();$group=$R37tI8O;unset($R37tI8O);$R37tI8O=['code'=>200,'msg'=>$res,'group'=>$group];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;return json($res);R37x3b:goto R37x37;R37ldMhx38:R37x37:}public function update_pwd(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R37N8P=base64_decode("uAyibBdN")=="viXWEJvI";if($R37N8P)goto R37eWjgx3k;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx3k;if(strspn("nqTBnSWz","10"))goto R37eWjgx3k;goto R37ldMhx3k;R37eWjgx3k:$R37M8Q=1+1;$R37M8R=0>$R37M8Q;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R37MfhB=$R37tIM8S;if($R37tIM8S)goto R37eWjgx3m;goto R37ldMhx3m;R37eWjgx3m:unset($R37tIM8T);$R37tIM8T=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8T;goto R37x3l;R37ldMhx3m:R37x3l:echo $sq['msg'];die();goto R37x3j;R37ldMhx3k:R37x3j:if(Request()->isPost())goto R37eWjgx3o;$R37N8P=strlen("sahQnB")==0;if($R37N8P)goto R37eWjgx3o;$R37N8O="__file__"==5;if($R37N8O)goto R37eWjgx3o;goto R37ldMhx3o;R37eWjgx3o:if(function_exists("R37MfhB"))goto R37eWjgx3q;goto R37ldMhx3q;R37eWjgx3q:unset($R37tIM8Q);$R37tIM8Q=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8Q;foreach($var_12["arr_1"] as $k=>$vo){$R37M8R=gettype($var_12["arr_1"][$k])=="string";$R37M8T=(bool)$R37M8R;if($R37M8T)goto R37eWjgx3s;goto R37ldMhx3s;R37eWjgx3s:unset($R37tIM8S);$R37tIM8S=fun_3($vo);unset($R37tIM8U);$R37tIM8U=$R37tIM8S;$var_12["arr_1"][$k]=$R37tIM8U;$R37M8T=(bool)$R37tIM8S;goto R37x3r;R37ldMhx3s:R37x3r:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x3p;R37ldMhx3q:goto R37MfhB140;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8W=require $R37M8V;$R37M8X=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Y=require $R37M8X;$R37M8Z=V_DATA . fun_2("arr_1",10);$R37M90=require $R37M8Z;R37MfhB140:R37x3p:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R37N8P=10+1;$R37N8Q=10>$R37N8P;if($R37N8Q)goto R37eWjgx3u;if(is_object(null))goto R37eWjgx3u;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx3u;goto R37ldMhx3u;R37eWjgx3u:goto R37MfhB142;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx3w;goto R37ldMhx3w;R37eWjgx3w:$R37M8R=$dir . DS;$R37M8S=$R37M8R . $file;unset($R37tIM8T);$R37tIM8T=$R37M8S;$filename=$R37tIM8T;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x3v;R37ldMhx3w:R37x3v:}R37MfhB142:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x3t;R37ldMhx3u:goto R37MfhB144;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx3y;goto R37ldMhx3y;R37eWjgx3y:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x3x;R37ldMhx3y:R37x3x:}R37MfhB144:unset($R37tI8O);$R37tI8O=htmlspecialchars(urldecode(trim($param['user_name'])));$param['user_name']=$R37tI8O;unset($R37tI8O);$R37tI8O=md5(htmlspecialchars(urldecode(trim($param['user_pwd']))));$up['user_pwd']=$R37tI8O;unset($R37tI8O);$R37tI8O=db('user')->where('user_name',$param['user_name'])->find();$user_info=$R37tI8O;if($user_info)goto R37eWjgx41;if(is_object(null))goto R37eWjgx41;if(substr("JwJDw",19))goto R37eWjgx41;goto R37ldMhx41;R37eWjgx41:switch($R37MfhB="login"){case "admin":unset($R37tIM8P);$R37tIM8P=str_replace($depr,"|",$url);$url=$R37tIM8P;unset($R37tIM8Q);$R37tIM8Q=explode("|",$url,2);$array=$R37tIM8Q;case "user":unset($R37tIM8S);$R37tIM8S=parse_url($url);$info=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=explode("/",$info["path"]);$path=$R37tIM8T;}if(key(array(10)))goto R37eWjgx46;$R378O=$user_info['user_status']==1;if($R378O)goto R37eWjgx46;$R37N8P=gettype(10)=="string";if($R37N8P)goto R37eWjgx46;goto R37ldMhx46;R37eWjgx46:goto R37MfhB146;$R37M8Q=$R4vP4 . DS;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$R4vP5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=array();$R4vA5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=$request;$R4vA5[]=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8U;R37MfhB146:goto R37MfhB148;unset($R37tIM8V);$R37tIM8V=array();$R4vA1=$R37tIM8V;unset($R37tIM8W);$R37tIM8W=&$dispatch;$R4vA1[]=&$R37tIM8W;unset($R37tIM8X);$R37tIM8X=array();$R4vA2=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Y;R37MfhB148:unset($R37tI8Z);$R37tI8Z=db('user')->where('user_id',$user_info['user_id'])->update($up);$res=$R37tI8Z;$R37N8O=E_ERROR-1;unset($R37tIN8P);$R37tIN8P=$R37N8O;$R37IMAq=$R37tIN8P;if($R37tIN8P)goto R37eWjgx48;unset($R37tIPN8Q);$R37tIPN8Q=true;$R37IMAq=$R37tIPN8Q;if(is_object($R37tIPN8Q))goto R37eWjgx48;if($res)goto R37eWjgx48;goto R37ldMhx48;R37eWjgx48:try{strlen(1);}catch(\Exception $e){$R37M8R=$x*5;unset($R37tIM8S);$R37tIM8S=$R37M8R;$y=$R37tIM8S;echo "no login!";exit(1);}catch(\Exception $e){$R37M8T=$x*1;unset($R37tIM8U);$R37tIM8U=$R37M8T;$y=$R37tIM8U;echo "no html!";exit(2);}unset($R37tI8O);$R37tI8O=['code'=>200,'msg'=>'修改成功'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x47;R37ldMhx48:goto R37MfhB14A;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx4b;goto R37ldMhx4b;R37eWjgx4b:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x4a;R37ldMhx4b:R37x4a:}R37MfhB14A:unset($R37tI8O);$R37tI8O=['code'=>300,'msg'=>'修改失败，请稍后再试'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;R37x47:goto R37x45;R37ldMhx46:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($R37tI8S);$R37tI8S=['code'=>500,'msg'=>'用户已被禁用，请联系管理员'];$msg=$R37tI8S;$R378T=$Encrypted_string . base64_encode(json_encode($msg));return $R378T;R37x45:goto R37x4z;R37ldMhx41:if(isset($_GET))goto R37eWjgx4h;goto R37ldMhx4h;R37eWjgx4h:array();goto R37MfhB14C;$R37M8U=CONF_PATH . $module;$R37M8V=$R37M8U . database;$R37M8W=$R37M8V . CONF_EXT;unset($R37tIM8X);$R37tIM8X=$R37M8W;$filename=$R37tIM8X;R37MfhB14C:goto R37x4g;R37ldMhx4h:if(strpos($file,"."))goto R37eWjgx4j;goto R37ldMhx4j;R37eWjgx4j:$R37M8Y=$file;goto R37x4i;R37ldMhx4j:$R37M8Z=APP_PATH . $file;$R37M90=$R37M8Z . EXT;$R37M8Y=$R37M90;R37x4i:unset($R37tIM91);$R37tIM91=$R37M8Y;$file=$R37tIM91;$R37M93=(bool)is_file($file);if($R37M93)goto R37eWjgx4m;goto R37ldMhx4m;R37eWjgx4m:$R37M92=!isset(user::$file[$file]);$R37M93=(bool)$R37M92;goto R37x4l;R37ldMhx4m:R37x4l:if($R37M93)goto R37eWjgx4n;goto R37ldMhx4n;R37eWjgx4n:$R37M94=include $file;unset($R37tIM95);$R37tIM95=true;user::$file[$file]=$R37tIM95;goto R37x4k;R37ldMhx4n:R37x4k:R37x4g:unset($R37tI8O);$R37tI8O=['code'=>400,'msg'=>'用户不存在'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;R37x4z:R37x3t:goto R37x3n;R37ldMhx3o:R37x3n:}public function buy(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R37PN8P=18-10;if(is_bool($R37PN8P))goto R37eWjgx4p;if(stripos("ZFFxfucZ","10"))goto R37eWjgx4p;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx4p;goto R37ldMhx4p;R37eWjgx4p:if(isset($config[0]))goto R37eWjgx4r;goto R37ldMhx4r;R37eWjgx4r:goto R37MfhB14E;if(is_array($rules))goto R37eWjgx4t;goto R37ldMhx4t;R37eWjgx4t:Route::import($rules);goto R37x4s;R37ldMhx4t:R37x4s:R37MfhB14E:goto R37x4q;R37ldMhx4r:goto R37MfhB150;$R37M8Q=$path . EXT;if(is_file($R37M8Q))goto R37eWjgx4v;goto R37ldMhx4v;R37eWjgx4v:$R37M8R=$path . EXT;$R37M8S=include $R37M8R;goto R37x4u;R37ldMhx4v:R37x4u:R37MfhB150:R37x4q:echo $sq['msg'];die();goto R37x4o;R37ldMhx4p:R37x4o:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;if(Request()->isPost())goto R37eWjgx4x;if(strrchr(10,"JD"))goto R37eWjgx4x;$R37N8O="__file__"==5;if($R37N8O)goto R37eWjgx4x;goto R37ldMhx4x;R37eWjgx4x:goto R37MfhB152;unset($R37tIM8P);$R37tIM8P="php_sapi_name";$A_33=$R37tIM8P;unset($R37tIM8Q);$R37tIM8Q="die";$A_34=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="cli";$A_35=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="microtime";$A_36=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=1;$A_37=$R37tIM8T;R37MfhB152:goto R37MfhB154;unset($R37tIM8U);$R37tIM8U="argc";$A_38=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="echo";$A_39=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="HTTP_HOST";$A_40=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="SERVER_ADDR";$A_41=$R37tIM8X;R37MfhB154:unset($R37tI8Y);$R37tI8Y=input('param.flag');$flag=$R37tI8Y;if(isset($_R37IMAq))goto R37eWjgx5z;$R37N8P=count(array(10,20))==13;if($R37N8P)goto R37eWjgx5z;$R378O=$flag=='card';if($R378O)goto R37eWjgx5z;goto R37ldMhx5z;R37eWjgx5z:if(isset($_GET))goto R37eWjgx52;goto R37ldMhx52;R37eWjgx52:array();goto R37MfhB156;$R37M8Q=CONF_PATH . $module;$R37M8R=$R37M8Q . database;$R37M8S=$R37M8R . CONF_EXT;unset($R37tIM8T);$R37tIM8T=$R37M8S;$filename=$R37tIM8T;R37MfhB156:goto R37x51;R37ldMhx52:if(strpos($file,"."))goto R37eWjgx54;goto R37ldMhx54;R37eWjgx54:$R37M8U=$file;goto R37x53;R37ldMhx54:$R37M8V=APP_PATH . $file;$R37M8W=$R37M8V . EXT;$R37M8U=$R37M8W;R37x53:unset($R37tIM8X);$R37tIM8X=$R37M8U;$file=$R37tIM8X;$R37M8Z=(bool)is_file($file);if($R37M8Z)goto R37eWjgx57;goto R37ldMhx57;R37eWjgx57:$R37M8Y=!isset(user::$file[$file]);$R37M8Z=(bool)$R37M8Y;goto R37x56;R37ldMhx57:R37x56:if($R37M8Z)goto R37eWjgx58;goto R37ldMhx58;R37eWjgx58:$R37M90=include $file;unset($R37tIM91);$R37tIM91=true;user::$file[$file]=$R37tIM91;goto R37x55;R37ldMhx58:R37x55:R37x51:unset($R37tI8O);$R37tI8O=htmlspecialchars(urldecode(trim($param['card_no'])));$card_no=$R37tI8O;unset($R37tI8O);$R37tI8O=htmlspecialchars(urldecode(trim($param['card_pwd'])));$card_pwd=$R37tI8O;unset($R37tI8O);$R37tI8O=db('user')->where('user_id',$param['user_id'])->find();$user_info=$R37tI8O;unset($R37tI8O);$R37tI8O=$user_info;$GLOBALS['user']=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Card')->useData($card_no,$card_pwd,$GLOBALS['user']);$res=$R37tI8O;return json($res);goto R37x4y;R37ldMhx5z:$R37M8O=strlen(1)<1;if($R37M8O)goto R37eWjgx5a;goto R37ldMhx5a;R37eWjgx5a:$adminL();R37MfhB158:igjagoe;strlen("wolrlg");getnum(1);goto R37x59;R37ldMhx5a:R37x59:goto R37MfhB159;if(is_array($rule))goto R37eWjgx5c;goto R37ldMhx5c;R37eWjgx5c:unset($R37tIM8P);$R37tIM8P=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8P;goto R37x5b;R37ldMhx5c:$R37M8Q=true===$rule;if($R37M8Q)goto R37eWjgx5e;goto R37ldMhx5e;R37eWjgx5e:$R37M8R=$this->name;goto R37x5d;R37ldMhx5e:$R37M8R=$rule;R37x5d:unset($R37tIM8S);$R37tIM8S=$R37M8R;$this->validate=$R37tIM8S;R37x5b:R37MfhB159:unset($R37tI8O);$R37tI8O=input('param.price');$price=$R37tI8O;$R37PN8O=18-10;if(is_bool($R37PN8O))goto R37eWjgx5g;if(empty($price))goto R37eWjgx5g;if(strspn("nqTBnSWz","10"))goto R37eWjgx5g;goto R37ldMhx5g;R37eWjgx5g:goto R37MfhB15B;unset($R37tIM8P);$R37tIM8P="php_sapi_name";$A_33=$R37tIM8P;unset($R37tIM8Q);$R37tIM8Q="die";$A_34=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="cli";$A_35=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="microtime";$A_36=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=1;$A_37=$R37tIM8T;R37MfhB15B:goto R37MfhB15D;unset($R37tIM8U);$R37tIM8U="argc";$A_38=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="echo";$A_39=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="HTTP_HOST";$A_40=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="SERVER_ADDR";$A_41=$R37tIM8X;R37MfhB15D:return json(['code'=>1001,'msg'=>'参数错误']);goto R37x5f;R37ldMhx5g:R37x5f:$R37N8P="__file__"==5;if($R37N8P)goto R37eWjgx5i;$R378O=$price<$GLOBALS['config']['pay']['min'];if($R378O)goto R37eWjgx5i;if(strnatcmp(10,10))goto R37eWjgx5i;goto R37ldMhx5i;R37eWjgx5i:if(isset($config[0]))goto R37eWjgx5k;goto R37ldMhx5k;R37eWjgx5k:goto R37MfhB15F;if(is_array($rules))goto R37eWjgx5m;goto R37ldMhx5m;R37eWjgx5m:Route::import($rules);goto R37x5l;R37ldMhx5m:R37x5l:R37MfhB15F:goto R37x5j;R37ldMhx5k:goto R37MfhB161;$R37M8Q=$path . EXT;if(is_file($R37M8Q))goto R37eWjgx5o;goto R37ldMhx5o;R37eWjgx5o:$R37M8R=$path . EXT;$R37M8S=include $R37M8R;goto R37x5n;R37ldMhx5o:R37x5n:R37MfhB161:R37x5j:$R37PP8O='最小充值金额不能低于' . $GLOBALS['config']['pay']['min'];$R37PP8P=$R37PP8O . '元';return json(['code'=>1002,'msg'=>$R37PP8P]);goto R37x5h;R37ldMhx5i:R37x5h:unset($R37tI8O);$R37tI8O=[];$data=$R37tI8O;unset($R37tI8O);$R37tI8O=$GLOBALS['user']['user_id'];$data['user_id']=$R37tI8O;$R378O='PAY' . mac_get_uniqid_code();unset($R37tI8P);$R37tI8P=$R378O;$data['order_code']=$R37tI8P;unset($R37tI8O);$R37tI8O=$price;$data['order_price']=$R37tI8O;unset($R37tI8O);$R37tI8O=time();$data['order_time']=$R37tI8O;$R37P8O=$GLOBALS['config']['pay']['scale']*$price;unset($R37tI8P);$R37tI8P=intval($R37P8O);$data['order_points']=$R37tI8P;unset($R37tI8O);$R37tI8O=model('Order')->saveData($data);$res=$R37tI8O;unset($R37tI8O);$R37tI8O=$data;$res['data']=$R37tI8O;return json($res);R37x4y:goto R37x4w;R37ldMhx4x:R37x4w:$this->assign('param',$param);$this->assign('config',$GLOBALS['config']['pay']);return $this->fetch('user/buy');}public function portrait(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;unset($R37tIPN8P);$R37tIPN8P=true;$R37IMAq=$R37tIPN8P;if(is_object($R37tIPN8P))goto R37eWjgx5q;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx5q;if(function_exists("R37IMAq"))goto R37eWjgx5q;goto R37ldMhx5q;R37eWjgx5q:try{strlen(1);}catch(\Exception $e){$R37M8Q=$x*5;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$y=$R37tIM8R;echo "no login!";exit(1);}catch(\Exception $e){$R37M8S=$x*1;unset($R37tIM8T);$R37tIM8T=$R37M8S;$y=$R37tIM8T;echo "no html!";exit(2);}echo $sq['msg'];die();goto R37x5p;R37ldMhx5q:R37x5p:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=request()->file('file');$file=$R37tI8O;$R37N8O=md5(10)=="WVKKoI";if($R37N8O)goto R37eWjgx5t;unset($R37tIN8P);$R37tIN8P=false;$R37IMAq=$R37tIN8P;if($R37tIN8P)goto R37eWjgx5t;if(empty($file))goto R37eWjgx5t;goto R37ldMhx5t;R37eWjgx5t:goto R37MfhB163;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx5v;goto R37ldMhx5v;R37eWjgx5v:$R37M8Q=$dir . DS;$R37M8R=$R37M8Q . $file;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x5u;R37ldMhx5v:R37x5u:}R37MfhB163:return json(['code'=>0,'msg'=>'未找到上传的文件！']);goto R37x5s;R37ldMhx5t:R37x5s:$R378O=$file->getMime()=='text/x-php';if($R378O)goto R37eWjgx5x;$R37N8P=10-10;$R37N8Q=$R37N8P/2;if($R37N8Q)goto R37eWjgx5x;unset($R37tIPN8R);$R37tIPN8R="mawjr";$R37IMAq=$R37tIPN8R;$R37N8S=!strlen($R37tIPN8R);if($R37N8S)goto R37eWjgx5x;goto R37ldMhx5x;R37eWjgx5x:try{strlen(1);}catch(\Exception $e){$R37M8T=$x*5;unset($R37tIM8U);$R37tIM8U=$R37M8T;$y=$R37tIM8U;echo "no login!";exit(1);}catch(\Exception $e){$R37M8V=$x*1;unset($R37tIM8W);$R37tIM8W=$R37M8V;$y=$R37tIM8W;echo "no html!";exit(2);}return json(['code'=>0,'msg'=>'禁止上传php,html文件！']);goto R37x5w;R37ldMhx5x:R37x5w:unset($R37tI8O);$R37tI8O='jpg,png,gif';$upload_image_ext=$R37tI8O;$R37N8Q=true===strpos("ME",10);if($R37N8Q)goto R37eWjgx61;$R37PN8O="RbV"==__LINE__;unset($R37tIPN8P);$R37tIPN8P=$R37PN8O;$R37IMAq=$R37tIPN8P;if(strrev($R37tIPN8P))goto R37eWjgx61;if($file->checkExt($upload_image_ext))goto R37eWjgx61;goto R37ldMhx61;R37eWjgx61:goto R37MfhB165;$R37M8R=$R4vP4 . DS;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R4vP5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=array();$R4vA5=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=$request;$R4vA5[]=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8V;R37MfhB165:goto R37MfhB167;unset($R37tIM8W);$R37tIM8W=array();$R4vA1=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=&$dispatch;$R4vA1[]=&$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=array();$R4vA2=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Z;R37MfhB167:unset($R37tI90);$R37tI90='image';$type=$R37tI90;goto R37x6z;R37ldMhx61:if(isset($_GET))goto R37eWjgx63;goto R37ldMhx63;R37eWjgx63:array();goto R37MfhB169;$R37M91=CONF_PATH . $module;$R37M92=$R37M91 . database;$R37M93=$R37M92 . CONF_EXT;unset($R37tIM94);$R37tIM94=$R37M93;$filename=$R37tIM94;R37MfhB169:goto R37x62;R37ldMhx63:if(strpos($file,"."))goto R37eWjgx65;goto R37ldMhx65;R37eWjgx65:$R37M95=$file;goto R37x64;R37ldMhx65:$R37M96=APP_PATH . $file;$R37M97=$R37M96 . EXT;$R37M95=$R37M97;R37x64:unset($R37tIM98);$R37tIM98=$R37M95;$file=$R37tIM98;$R37M9A=(bool)is_file($file);if($R37M9A)goto R37eWjgx68;goto R37ldMhx68;R37eWjgx68:$R37M99=!isset(user::$file[$file]);$R37M9A=(bool)$R37M99;goto R37x67;R37ldMhx68:R37x67:if($R37M9A)goto R37eWjgx69;goto R37ldMhx69;R37eWjgx69:$R37M9B=include $file;unset($R37tIM9C);$R37tIM9C=true;user::$file[$file]=$R37tIM9C;goto R37x66;R37ldMhx69:R37x66:R37x62:return json(['code'=>0,'msg'=>'非系统允许的上传格式！']);R37x6z:$R378O=$param['user_id']%10;unset($R37tI8P);$R37tI8P=$R378O;$uniq=$R37tI8P;$R378O=ROOT_PATH . 'upload';$R378P=$R378O . '/user/';$R378Q=$R378P . $uniq;$R378R=$R378Q . '/';unset($R37tI8S);$R37tI8S=$R378R;$_upload_path=$R37tI8S;$R378O='upload' . '/user/';$R378P=$R378O . $uniq;$R378Q=$R378P . '/';unset($R37tI8R);$R37tI8R=$R378Q;$_save_path=$R37tI8R;$R378O=md5(time()) . '.jpg';unset($R37tI8P);$R37tI8P=$R378O;$_save_name=$R37tI8P;$R378O=!file_exists($_save_path);if($R378O)goto R37eWjgx6b;if(is_file("<ePmgae>"))goto R37eWjgx6b;$R37N8P=md5(10)=="WVKKoI";if($R37N8P)goto R37eWjgx6b;goto R37ldMhx6b;R37eWjgx6b:switch($R37MfhB="login"){case "admin":unset($R37tIM8R);$R37tIM8R=str_replace($depr,"|",$url);$url=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=explode("|",$url,2);$array=$R37tIM8S;case "user":unset($R37tIM8U);$R37tIM8U=parse_url($url);$info=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=explode("/",$info["path"]);$path=$R37tIM8V;}mac_mkdirss($_save_path);goto R37x6a;R37ldMhx6b:R37x6a:unset($R37tI8O);$R37tI8O=$file->move($_upload_path,$_save_name);$upfile=$R37tI8O;if(array_key_exists(10,array()))goto R37eWjgx6g;$R37P8O=$_upload_path . $_save_name;$R378P=!is_file($R37P8O);if($R378P)goto R37eWjgx6g;if(is_null(__FILE__))goto R37eWjgx6g;goto R37ldMhx6g;R37eWjgx6g:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}return json(['code'=>0,'msg'=>'文件上传失败！']);goto R37x6f;R37ldMhx6g:R37x6f:$R378O=$_save_path . str_replace('\\','/',$_save_name);unset($R37tI8P);$R37tI8P=$R378O;$file=$R37tI8P;unset($R37tI8O);$R37tI8O=['thumb_type'=>6,'thumb_size'=>$GLOBALS['config']['user']['portrait_size'],];$config=$R37tI8O;$R378O=md5(time()) . '.jpg';unset($R37tI8P);$R37tI8P=$R378O;$new_thumb=$R37tI8P;$R378O=$_save_path . $new_thumb;unset($R37tI8P);$R37tI8P=$R378O;$new_file=$R37tI8P;try{$R37P8O='./' . $file;unset($R37tI8P);$R37tI8P=\think\Image::open($R37P8O);$image=$R37tI8P;unset($R37tI8O);$R37tI8O=explode('x',strtolower($GLOBALS['config']['user']['portrait_size']));$t_size=$R37tI8O;$R378O=!isset($t_size[1]);if($R378O)goto R37eWjgx6n;if(strnatcmp(10,10))goto R37eWjgx6n;if(substr("JwJDw",19))goto R37eWjgx6n;goto R37ldMhx6n;R37eWjgx6n:if(isset($_GET))goto R37eWjgx6p;goto R37ldMhx6p;R37eWjgx6p:array();goto R37MfhB16B;$R37M8P=CONF_PATH . $module;$R37M8Q=$R37M8P . database;$R37M8R=$R37M8Q . CONF_EXT;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;R37MfhB16B:goto R37x6o;R37ldMhx6p:if(strpos($file,"."))goto R37eWjgx6r;goto R37ldMhx6r;R37eWjgx6r:$R37M8T=$file;goto R37x6q;R37ldMhx6r:$R37M8U=APP_PATH . $file;$R37M8V=$R37M8U . EXT;$R37M8T=$R37M8V;R37x6q:unset($R37tIM8W);$R37tIM8W=$R37M8T;$file=$R37tIM8W;$R37M8Y=(bool)is_file($file);if($R37M8Y)goto R37eWjgx6u;goto R37ldMhx6u;R37eWjgx6u:$R37M8X=!isset(user::$file[$file]);$R37M8Y=(bool)$R37M8X;goto R37x6t;R37ldMhx6u:R37x6t:if($R37M8Y)goto R37eWjgx6v;goto R37ldMhx6v;R37eWjgx6v:$R37M8Z=include $file;unset($R37tIM90);$R37tIM90=true;user::$file[$file]=$R37tIM90;goto R37x6s;R37ldMhx6v:R37x6s:R37x6o:unset($R37tI8O);$R37tI8O=$t_size[0];$t_size[1]=$R37tI8O;goto R37x6m;R37ldMhx6n:R37x6m:$R37P8O='./' . $new_file;unset($R37tI8P);$R37tI8P=$image->thumb($t_size[0],$t_size[1],6)->save($R37P8O);$res=$R37tI8P;unset($R37tI8O);$R37tI8O=[];$update=$R37tI8O;unset($R37tI8O);$R37tI8O=$_SERVER['HTTP_HOST'];$href=$R37tI8O;$R378O='http://' . $href;$R378P=$R378O . '/';$R378Q=$R378P . $new_file;unset($R37tI8R);$R37tI8R=$R378Q;$update['user_portrait']=$R37tI8R;unset($R37tI8O);$R37tI8O=[];$where=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['user_id'];$where['user_id']=$R37tI8O;unset($R37tI8O);$R37tI8O=model('User')->where($where)->update($update);$res=$R37tI8O;$R378O=$res===false;if($R378O)goto R37eWjgx6x;$R37N8Q=10+1;$R37N8R=E_STRICT==$R37N8Q;if($R37N8R)goto R37eWjgx6x;$R37PN8P=18-10;if(is_bool($R37PN8P))goto R37eWjgx6x;goto R37ldMhx6x;R37eWjgx6x:goto R37MfhB16D;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx7z;goto R37ldMhx7z;R37eWjgx7z:$R37M8S=$dir . DS;$R37M8T=$R37M8S . $file;unset($R37tIM8U);$R37tIM8U=$R37M8T;$filename=$R37tIM8U;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x6y;R37ldMhx7z:R37x6y:}R37MfhB16D:return json(['code'=>0,'msg'=>'更新会员头像信息失败！']);goto R37x6w;R37ldMhx6x:R37x6w:$R37PP8O='' . MAC_PATH;$R37PP8P=$R37PP8O . $new_file;$R37PP8Q=$R37PP8P . '?';$R37PP8R=$R37PP8Q . mt_rand(1,9999);return json(['code'=>1,'msg'=>'修改成功','file'=>$R37PP8R]);}catch(\Exception $e){return json(['code'=>0,'msg'=>'生成缩放头像图片文件失败！']);}}public function update_info(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(strnatcmp(10,10))goto R37eWjgx72;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx72;$R37N8P=!getdate();if($R37N8P)goto R37eWjgx72;goto R37ldMhx72;R37eWjgx72:goto R37MfhB16F;unset($R37tIM8Q);$R37tIM8Q="php_sapi_name";$A_33=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="die";$A_34=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="cli";$A_35=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="microtime";$A_36=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=1;$A_37=$R37tIM8U;R37MfhB16F:goto R37MfhB171;unset($R37tIM8V);$R37tIM8V="argc";$A_38=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="echo";$A_39=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="HTTP_HOST";$A_40=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="SERVER_ADDR";$A_41=$R37tIM8Y;R37MfhB171:echo $sq['msg'];die();goto R37x71;R37ldMhx72:R37x71:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;if(Request()->isPost())goto R37eWjgx74;$R37N8O=!true;unset($R37tIN8P);$R37tIN8P=$R37N8O;$R37IMAq=$R37tIN8P;if($R37tIN8P)goto R37eWjgx74;if(is_null(__FILE__))goto R37eWjgx74;goto R37ldMhx74;R37eWjgx74:if(isset($_GET))goto R37eWjgx76;goto R37ldMhx76;R37eWjgx76:array();goto R37MfhB173;$R37M8Q=CONF_PATH . $module;$R37M8R=$R37M8Q . database;$R37M8S=$R37M8R . CONF_EXT;unset($R37tIM8T);$R37tIM8T=$R37M8S;$filename=$R37tIM8T;R37MfhB173:goto R37x75;R37ldMhx76:if(strpos($file,"."))goto R37eWjgx78;goto R37ldMhx78;R37eWjgx78:$R37M8U=$file;goto R37x77;R37ldMhx78:$R37M8V=APP_PATH . $file;$R37M8W=$R37M8V . EXT;$R37M8U=$R37M8W;R37x77:unset($R37tIM8X);$R37tIM8X=$R37M8U;$file=$R37tIM8X;$R37M8Z=(bool)is_file($file);if($R37M8Z)goto R37eWjgx7b;goto R37ldMhx7b;R37eWjgx7b:$R37M8Y=!isset(user::$file[$file]);$R37M8Z=(bool)$R37M8Y;goto R37x7a;R37ldMhx7b:R37x7a:if($R37M8Z)goto R37eWjgx7c;goto R37ldMhx7c;R37eWjgx7c:$R37M90=include $file;unset($R37tIM91);$R37tIM91=true;user::$file[$file]=$R37tIM91;goto R37x79;R37ldMhx7c:R37x79:R37x75:unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx7e;$R37N8P=md5(10)=="WVKKoI";if($R37N8P)goto R37eWjgx7e;if(key(array(10)))goto R37eWjgx7e;goto R37ldMhx7e;R37eWjgx7e:if(function_exists("R37MfhB"))goto R37eWjgx7g;goto R37ldMhx7g;R37eWjgx7g:unset($R37tIM8Q);$R37tIM8Q=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8Q;foreach($var_12["arr_1"] as $k=>$vo){$R37M8R=gettype($var_12["arr_1"][$k])=="string";$R37M8T=(bool)$R37M8R;if($R37M8T)goto R37eWjgx7i;goto R37ldMhx7i;R37eWjgx7i:unset($R37tIM8S);$R37tIM8S=fun_3($vo);unset($R37tIM8U);$R37tIM8U=$R37tIM8S;$var_12["arr_1"][$k]=$R37tIM8U;$R37M8T=(bool)$R37tIM8S;goto R37x7h;R37ldMhx7i:R37x7h:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x7f;R37ldMhx7g:goto R37MfhB175;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8W=require $R37M8V;$R37M8X=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Y=require $R37M8X;$R37M8Z=V_DATA . fun_2("arr_1",10);$R37M90=require $R37M8Z;R37MfhB175:R37x7f:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;return json_encode($msg);goto R37x7d;R37ldMhx7e:if(function_exists("R37MfhB"))goto R37eWjgx7k;goto R37ldMhx7k;R37eWjgx7k:unset($R37tIM8O);$R37tIM8O=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8O;foreach($var_12["arr_1"] as $k=>$vo){$R37M8P=gettype($var_12["arr_1"][$k])=="string";$R37M8R=(bool)$R37M8P;if($R37M8R)goto R37eWjgx7m;goto R37ldMhx7m;R37eWjgx7m:unset($R37tIM8Q);$R37tIM8Q=fun_3($vo);unset($R37tIM8S);$R37tIM8S=$R37tIM8Q;$var_12["arr_1"][$k]=$R37tIM8S;$R37M8R=(bool)$R37tIM8Q;goto R37x7l;R37ldMhx7m:R37x7l:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x7j;R37ldMhx7k:goto R37MfhB177;$R37M8T=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8U=require $R37M8T;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8W=require $R37M8V;$R37M8X=V_DATA . fun_2("arr_1",10);$R37M8Y=require $R37M8X;R37MfhB177:R37x7j:unset($R37tI8O);$R37tI8O=$param['user_nick_name'];$update['user_nick_name']=$R37tI8O;unset($R37tI8O);$R37tI8O=db('user')->where('user_id',$param['user_id'])->update($update);$res=$R37tI8O;if(strnatcmp(10,10))goto R37eWjgx7o;if(array_key_exists(10,array()))goto R37eWjgx7o;if($res)goto R37eWjgx7o;goto R37ldMhx7o;R37eWjgx7o:$R37M8O=strlen(1)<1;if($R37M8O)goto R37eWjgx7q;goto R37ldMhx7q;R37eWjgx7q:$adminL();R37MfhB179:igjagoe;strlen("wolrlg");getnum(1);goto R37x7p;R37ldMhx7q:R37x7p:goto R37MfhB17A;if(is_array($rule))goto R37eWjgx7s;goto R37ldMhx7s;R37eWjgx7s:unset($R37tIM8P);$R37tIM8P=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8P;goto R37x7r;R37ldMhx7s:$R37M8Q=true===$rule;if($R37M8Q)goto R37eWjgx7u;goto R37ldMhx7u;R37eWjgx7u:$R37M8R=$this->name;goto R37x7t;R37ldMhx7u:$R37M8R=$rule;R37x7t:unset($R37tIM8S);$R37tIM8S=$R37M8R;$this->validate=$R37tIM8S;R37x7r:R37MfhB17A:return json(['code'=>1,'msg'=>'修改成功！']);goto R37x7n;R37ldMhx7o:goto R37MfhB17C;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx7w;goto R37ldMhx7w;R37eWjgx7w:$R37M8O=$dir . DS;$R37M8P=$R37M8O . $file;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$filename=$R37tIM8Q;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x7v;R37ldMhx7w:R37x7v:}R37MfhB17C:return json(['code'=>0,'msg'=>'修改失败！']);R37x7n:R37x7d:goto R37x73;R37ldMhx74:R37x73:}}
?>