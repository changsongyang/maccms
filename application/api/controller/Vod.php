<?php


namespace app\api\controller;use think\Controller;use think\Cache;class Vod extends Base{public function vod_tuijian(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx2;$R37N8Q=md5(10)=="WVKKoI";if($R37N8Q)goto R37eWjgx2;$R37N8P=10-10;if($R37N8P)goto R37eWjgx2;goto R37ldMhx2;R37eWjgx2:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}echo $sq['msg'];die();goto R37x1;R37ldMhx2:R37x1:if(strnatcmp(10,10))goto R37eWjgx8;if(Request()->isPost())goto R37eWjgx8;$R37PN8O=10-1;if(is_null($R37PN8O))goto R37eWjgx8;goto R37ldMhx8;R37eWjgx8:goto R37MfhB17E;$R37M8P=$R4vP4 . DS;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$R4vP5=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=array();$R4vA5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=$request;$R4vA5[]=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8T;R37MfhB17E:goto R37MfhB180;unset($R37tIM8U);$R37tIM8U=array();$R4vA1=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=&$dispatch;$R4vA1[]=&$R37tIM8V;unset($R37tIM8W);$R37tIM8W=array();$R4vA2=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8X;R37MfhB180:unset($R37tI8Y);$R37tI8Y=input();$param=$R37tI8Y;unset($R37tI8Z);$R37tI8Z=config('maccms');$config=$R37tI8Z;unset($R37tI90);$R37tI90=db('config')->where('id',1)->find();$appconfig=$R37tI90;unset($R37tI91);$R37tI91=$param['safety_code'];$safety_code=$R37tI91;unset($R37tI92);$R37tI92=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI92;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgxa;$R37N8P=!true;unset($R37tIN8Q);$R37tIN8Q=$R37N8P;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgxa;if(isset($_R37IMAq))goto R37eWjgxa;goto R37ldMhxa;R37eWjgxa:goto R37MfhB182;unset($R37tIM8R);$R37tIM8R="php_sapi_name";$A_33=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="die";$A_34=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="cli";$A_35=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="microtime";$A_36=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=1;$A_37=$R37tIM8V;R37MfhB182:goto R37MfhB184;unset($R37tIM8W);$R37tIM8W="argc";$A_38=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="echo";$A_39=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="HTTP_HOST";$A_40=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="SERVER_ADDR";$A_41=$R37tIM8Z;R37MfhB184:unset($R37tI90);$R37tI90=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI90;$R3791=$Encrypted_string . base64_encode(json_encode($msg));return $R3791;goto R37x9;R37ldMhxa:if(isset($config[0]))goto R37eWjgxc;goto R37ldMhxc;R37eWjgxc:goto R37MfhB186;if(is_array($rules))goto R37eWjgxe;goto R37ldMhxe;R37eWjgxe:Route::import($rules);goto R37xd;R37ldMhxe:R37xd:R37MfhB186:goto R37xb;R37ldMhxc:goto R37MfhB188;$R37M92=$path . EXT;if(is_file($R37M92))goto R37eWjgxg;goto R37ldMhxg;R37eWjgxg:$R37M93=$path . EXT;$R37M94=include $R37M93;goto R37xf;R37ldMhxg:R37xf:R37MfhB188:R37xb:unset($R37tI95);$R37tI95=db('vod')->field('vod_id,vod_pic,vod_remarks,vod_score,vod_name,vod_time_add,type_id,vod_area')->where('type_id',$param['type_id'])->where('vod_status',1)->limit(0,9)->order('vod_time_add desc')->select();$res=$R37tI95;unset($R37tI96);$R37tI96=['code'=>200,'msg'=>$res];$msgg=$R37tI96;unset($R37tI97);$R37tI97=json_encode($msgg);$json=$R37tI97;$R3798=$Encrypted_string . base64_encode($json);return $R3798;R37x9:goto R37x7;R37ldMhx8:R37x7:}public function type_vod(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(is_object(null))goto R37eWjgxi;$R37N8P=10=="";unset($R37tIN8Q);$R37tIN8Q=$R37N8P;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgxi;$R378O=$sq['code']==400;if($R378O)goto R37eWjgxi;goto R37ldMhxi;R37eWjgxi:if(isset($config[0]))goto R37eWjgxk;goto R37ldMhxk;R37eWjgxk:goto R37MfhB18A;if(is_array($rules))goto R37eWjgxm;goto R37ldMhxm;R37eWjgxm:Route::import($rules);goto R37xl;R37ldMhxm:R37xl:R37MfhB18A:goto R37xj;R37ldMhxk:goto R37MfhB18C;$R37M8R=$path . EXT;if(is_file($R37M8R))goto R37eWjgxo;goto R37ldMhxo;R37eWjgxo:$R37M8S=$path . EXT;$R37M8T=include $R37M8S;goto R37xn;R37ldMhxo:R37xn:R37MfhB18C:R37xj:echo $sq['msg'];die();goto R37xh;R37ldMhxi:R37xh:if(Request()->isPost())goto R37eWjgxq;$R37N8O=10+1;$R37N8P=10==$R37N8O;if($R37N8P)goto R37eWjgxq;$R37N8Q=true===10;if($R37N8Q)goto R37eWjgxq;goto R37ldMhxq;R37eWjgxq:$R37M8R=1+1;$R37M8S=0>$R37M8R;unset($R37tIM8T);$R37tIM8T=$R37M8S;$R37MfhB=$R37tIM8T;if($R37tIM8T)goto R37eWjgxs;goto R37ldMhxs;R37eWjgxs:unset($R37tIM8U);$R37tIM8U=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8U;goto R37xr;R37ldMhxs:R37xr:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgxu;$R37PN8P=10+2;if(is_string($R37PN8P))goto R37eWjgxu;if(is_dir("<wDKiXY>"))goto R37eWjgxu;goto R37ldMhxu;R37eWjgxu:if(isset($config[0]))goto R37eWjgxw;goto R37ldMhxw;R37eWjgxw:goto R37MfhB18E;if(is_array($rules))goto R37eWjgxy;goto R37ldMhxy;R37eWjgxy:Route::import($rules);goto R37xx;R37ldMhxy:R37xx:R37MfhB18E:goto R37xv;R37ldMhxw:goto R37MfhB190;$R37M8Q=$path . EXT;if(is_file($R37M8Q))goto R37eWjgx11;goto R37ldMhx11;R37eWjgx11:$R37M8R=$path . EXT;$R37M8S=include $R37M8R;goto R37xz;R37ldMhx11:R37xz:R37MfhB190:R37xv:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37xt;R37ldMhxu:goto R37MfhB192;$R37M8P=$R4vP4 . DS;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$R4vP5=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=array();$R4vA5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=$request;$R4vA5[]=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8T;R37MfhB192:goto R37MfhB194;unset($R37tIM8U);$R37tIM8U=array();$R4vA1=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=&$dispatch;$R4vA1[]=&$R37tIM8V;unset($R37tIM8W);$R37tIM8W=array();$R4vA2=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8X;R37MfhB194:unset($R37tI8Y);$R37tI8Y=db('type')->field('type_id,type_name,type_logo,type_pic')->where(['type_mid'=>1,'type_status'=>1,'type_pid'=>$param['type_pid']])->select();$type=$R37tI8Y;unset($R37tIPN8O);$R37tIPN8O="QK";$R37IMAq=$R37tIPN8O;$R37N8P=strlen($R37tIPN8O)==1;if($R37N8P)goto R37eWjgx13;if($type)goto R37eWjgx13;if(stripos("ZFFxfucZ","10"))goto R37eWjgx13;goto R37ldMhx13;R37eWjgx13:$R37M8Q=strlen(1)<1;if($R37M8Q)goto R37eWjgx15;goto R37ldMhx15;R37eWjgx15:$adminL();R37MfhB196:igjagoe;strlen("wolrlg");getnum(1);goto R37x14;R37ldMhx15:R37x14:goto R37MfhB197;if(is_array($rule))goto R37eWjgx17;goto R37ldMhx17;R37eWjgx17:unset($R37tIM8R);$R37tIM8R=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8R;goto R37x16;R37ldMhx17:$R37M8S=true===$rule;if($R37M8S)goto R37eWjgx19;goto R37ldMhx19;R37eWjgx19:$R37M8T=$this->name;goto R37x18;R37ldMhx19:$R37M8T=$rule;R37x18:unset($R37tIM8U);$R37tIM8U=$R37M8T;$this->validate=$R37tIM8U;R37x16:R37MfhB197:foreach($type as $k=>$v){unset($R37tI8O);$R37tI8O=db('vod')->field('vod_id,vod_pic,vod_remarks,vod_score,vod_name,vod_time_add,type_id,vod_area,vod_actor')->where('type_id',$type[$k]['type_id'])->where('vod_status',1)->limit(0,6)->order('vod_time_add desc')->select();$type[$k]['list']=$R37tI8O;}goto R37x12;R37ldMhx13:goto R37MfhB199;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx1b;goto R37ldMhx1b;R37eWjgx1b:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x1a;R37ldMhx1b:R37x1a:}R37MfhB199:unset($R37tI8O);$R37tI8O=db('type')->field('type_id,type_name,type_logo,type_pic')->where(['type_mid'=>1,'type_status'=>1,'type_id'=>$param['type_pid']])->find();$res=$R37tI8O;unset($R37tI8O);$R37tI8O=$res['type_id'];$type[0]['type_id']=$R37tI8O;unset($R37tI8O);$R37tI8O=$res['type_name'];$type[0]['type_name']=$R37tI8O;unset($R37tI8O);$R37tI8O=$res['type_logo'];$type[0]['type_logo']=$R37tI8O;unset($R37tI8O);$R37tI8O=$res['type_pic'];$type[0]['type_pic']=$R37tI8O;unset($R37tI8O);$R37tI8O=db('vod')->field('vod_id,vod_pic,vod_remarks,vod_score,vod_name,vod_time_add,type_id,vod_area,vod_actor')->where('type_id',$param['type_pid'])->where('vod_status',1)->limit(0,18)->order('vod_time_add desc')->select();$type[0]['list']=$R37tI8O;R37x12:unset($R37tI8P);$R37tI8P=['code'=>200,'msg'=>$type];$msgg=$R37tI8P;unset($R37tI8Q);$R37tI8Q=json_encode($msgg);$json=$R37tI8Q;$R378R=$Encrypted_string . base64_encode($json);return $R378R;R37xt:goto R37xp;R37ldMhxq:R37xp:}public function vod_list(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R37N8R=10-10;$R37N8S=$R37N8R/2;if($R37N8S)goto R37eWjgx1d;$R37PN8P=10+1;$R37PN8Q=$R37PN8P+10;if(in_array($R37PN8Q,array()))goto R37eWjgx1d;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx1d;goto R37ldMhx1d;R37eWjgx1d:try{strlen(1);}catch(\Exception $e){$R37M8T=$x*5;unset($R37tIM8U);$R37tIM8U=$R37M8T;$y=$R37tIM8U;echo "no login!";exit(1);}catch(\Exception $e){$R37M8V=$x*1;unset($R37tIM8W);$R37tIM8W=$R37M8V;$y=$R37tIM8W;echo "no html!";exit(2);}echo $sq['msg'];die();goto R37x1c;R37ldMhx1d:R37x1c:if(Request()->isPost())goto R37eWjgx1g;unset($R37tIPN8O);$R37tIPN8O="mawjr";$R37IMAq=$R37tIPN8O;$R37N8P=!strlen($R37tIPN8O);if($R37N8P)goto R37eWjgx1g;$R37PN8Q=10+2;if(is_string($R37PN8Q))goto R37eWjgx1g;goto R37ldMhx1g;R37eWjgx1g:goto R37MfhB19B;unset($R37tIM8R);$R37tIM8R="php_sapi_name";$A_33=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="die";$A_34=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="cli";$A_35=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="microtime";$A_36=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=1;$A_37=$R37tIM8V;R37MfhB19B:goto R37MfhB19D;unset($R37tIM8W);$R37tIM8W="argc";$A_38=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="echo";$A_39=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="HTTP_HOST";$A_40=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="SERVER_ADDR";$A_41=$R37tIM8Z;R37MfhB19D:unset($R37tI90);$R37tI90=input();$param=$R37tI90;unset($R37tI91);$R37tI91=config('maccms');$config=$R37tI91;unset($R37tI92);$R37tI92=db('config')->where('id',1)->find();$appconfig=$R37tI92;unset($R37tI93);$R37tI93=$param['safety_code'];$safety_code=$R37tI93;unset($R37tI94);$R37tI94=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI94;$R37N8Q=10-10;if($R37N8Q)goto R37eWjgx1i;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx1i;$R37PN8P=10+2;if(is_string($R37PN8P))goto R37eWjgx1i;goto R37ldMhx1i;R37eWjgx1i:goto R37MfhB19F;unset($R37tIM8R);$R37tIM8R="php_sapi_name";$A_33=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="die";$A_34=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="cli";$A_35=$R37tIM8T;unset($R37tIM8U);$R37tIM8U="microtime";$A_36=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=1;$A_37=$R37tIM8V;R37MfhB19F:goto R37MfhB1A1;unset($R37tIM8W);$R37tIM8W="argc";$A_38=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="echo";$A_39=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="HTTP_HOST";$A_40=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z="SERVER_ADDR";$A_41=$R37tIM8Z;R37MfhB1A1:unset($R37tI90);$R37tI90=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI90;$R3791=$Encrypted_string . base64_encode(json_encode($msg));return $R3791;goto R37x1h;R37ldMhx1i:switch($R37MfhB="login"){case "admin":unset($R37tIM93);$R37tIM93=str_replace($depr,"|",$url);$url=$R37tIM93;unset($R37tIM94);$R37tIM94=explode("|",$url,2);$array=$R37tIM94;case "user":unset($R37tIM96);$R37tIM96=parse_url($url);$info=$R37tIM96;unset($R37tIM97);$R37tIM97=explode("/",$info["path"]);$path=$R37tIM97;}unset($R37tI98);$R37tI98=1;$l_bg=$R37tI98;unset($R37tI99);$R37tI99=20;$l_en=$R37tI99;if(is_file("<ePmgae>"))goto R37eWjgx1n;$R378O=$param['aa']==$param['bb'];if($R378O)goto R37eWjgx1n;$R37N8P=10-10;$R37N8Q=$R37N8P/2;if($R37N8Q)goto R37eWjgx1n;goto R37ldMhx1n;R37eWjgx1n:if(function_exists("R37MfhB"))goto R37eWjgx1p;goto R37ldMhx1p;R37eWjgx1p:unset($R37tIM8R);$R37tIM8R=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8R;foreach($var_12["arr_1"] as $k=>$vo){$R37M8S=gettype($var_12["arr_1"][$k])=="string";$R37M8U=(bool)$R37M8S;if($R37M8U)goto R37eWjgx1r;goto R37ldMhx1r;R37eWjgx1r:unset($R37tIM8T);$R37tIM8T=fun_3($vo);unset($R37tIM8V);$R37tIM8V=$R37tIM8T;$var_12["arr_1"][$k]=$R37tIM8V;$R37M8U=(bool)$R37tIM8T;goto R37x1q;R37ldMhx1r:R37x1q:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x1o;R37ldMhx1p:goto R37MfhB1A3;$R37M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8X=require $R37M8W;$R37M8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Z=require $R37M8Y;$R37M90=V_DATA . fun_2("arr_1",10);$R37M91=require $R37M90;R37MfhB1A3:R37x1o:unset($R37tI8O);$R37tI8O=0;$param['aa']=$R37tI8O;goto R37x1m;R37ldMhx1n:goto R37MfhB1A5;unset($R37tIM8P);$R37tIM8P="php_sapi_name";$A_33=$R37tIM8P;unset($R37tIM8Q);$R37tIM8Q="die";$A_34=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="cli";$A_35=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="microtime";$A_36=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=1;$A_37=$R37tIM8T;R37MfhB1A5:goto R37MfhB1A7;unset($R37tIM8U);$R37tIM8U="argc";$A_38=$R37tIM8U;unset($R37tIM8V);$R37tIM8V="echo";$A_39=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="HTTP_HOST";$A_40=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="SERVER_ADDR";$A_41=$R37tIM8X;R37MfhB1A7:unset($R37tI8Y);$R37tI8Y=$param['aa'];$param['aa']=$R37tI8Y;R37x1m:$R37P8Z=$l_en*$param['yema'];$R37P90=$R37P8Z-19;$R37P91=$l_en*$param['yema'];unset($R37tI92);$R37tI92=db('vod')->field('vod_id,vod_pic,vod_remarks,vod_score,vod_name,vod_time_add,type_id,vod_area,vod_actor')->where('type_id_1',$param['aa'])->where('vod_status',1)->where('type_id',$param['bb'])->limit($R37P90,$R37P91)->order('vod_time_add desc')->select();$res=$R37tI92;unset($R37tI93);$R37tI93=['code'=>200,'msg'=>$res];$msgg=$R37tI93;unset($R37tI94);$R37tI94=json_encode($msgg);$json=$R37tI94;$R3795=$Encrypted_string . base64_encode($json);return $R3795;R37x1h:goto R37x1f;R37ldMhx1g:R37x1f:}public function comment(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx1t;if(strspn("nqTBnSWz","10"))goto R37eWjgx1t;$R37PN8P="RbV"==__LINE__;unset($R37tIPN8Q);$R37tIPN8Q=$R37PN8P;$R37IMAq=$R37tIPN8Q;if(strrev($R37tIPN8Q))goto R37eWjgx1t;goto R37ldMhx1t;R37eWjgx1t:goto R37MfhB1A9;$R37M8R=$R4vP4 . DS;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R4vP5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=array();$R4vA5=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=$request;$R4vA5[]=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8V;R37MfhB1A9:goto R37MfhB1AB;unset($R37tIM8W);$R37tIM8W=array();$R4vA1=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=&$dispatch;$R4vA1[]=&$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=array();$R4vA2=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Z;R37MfhB1AB:echo $sq['msg'];die();goto R37x1s;R37ldMhx1t:R37x1s:if(Request()->isPost())goto R37eWjgx1v;$R37N8P=E_ERROR-1;unset($R37tIN8Q);$R37tIN8Q=$R37N8P;$R37IMAq=$R37tIN8Q;if($R37tIN8Q)goto R37eWjgx1v;$R37N8O=count(array(10,20))==13;if($R37N8O)goto R37eWjgx1v;goto R37ldMhx1v;R37eWjgx1v:switch($R37MfhB="login"){case "admin":unset($R37tIM8S);$R37tIM8S=str_replace($depr,"|",$url);$url=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=explode("|",$url,2);$array=$R37tIM8T;case "user":unset($R37tIM8V);$R37tIM8V=parse_url($url);$info=$R37tIM8V;unset($R37tIM8W);$R37tIM8W=explode("/",$info["path"]);$path=$R37tIM8W;}unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;if(array_key_exists(10,array()))goto R37eWjgx21;$R37N8P=gettype(E_PARSE)=="sMzQC";if($R37N8P)goto R37eWjgx21;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx21;goto R37ldMhx21;R37eWjgx21:goto R37MfhB1AD;unset($R37tIM8Q);$R37tIM8Q="php_sapi_name";$A_33=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R="die";$A_34=$R37tIM8R;unset($R37tIM8S);$R37tIM8S="cli";$A_35=$R37tIM8S;unset($R37tIM8T);$R37tIM8T="microtime";$A_36=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=1;$A_37=$R37tIM8U;R37MfhB1AD:goto R37MfhB1AF;unset($R37tIM8V);$R37tIM8V="argc";$A_38=$R37tIM8V;unset($R37tIM8W);$R37tIM8W="echo";$A_39=$R37tIM8W;unset($R37tIM8X);$R37tIM8X="HTTP_HOST";$A_40=$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y="SERVER_ADDR";$A_41=$R37tIM8Y;R37MfhB1AF:unset($R37tI8Z);$R37tI8Z=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8Z;$R3790=$Encrypted_string . base64_encode(json_encode($msg));return $R3790;goto R37x2z;R37ldMhx21:if(isset($_GET))goto R37eWjgx23;goto R37ldMhx23;R37eWjgx23:array();goto R37MfhB1B1;$R37M91=CONF_PATH . $module;$R37M92=$R37M91 . database;$R37M93=$R37M92 . CONF_EXT;unset($R37tIM94);$R37tIM94=$R37M93;$filename=$R37tIM94;R37MfhB1B1:goto R37x22;R37ldMhx23:if(strpos($file,"."))goto R37eWjgx25;goto R37ldMhx25;R37eWjgx25:$R37M95=$file;goto R37x24;R37ldMhx25:$R37M96=APP_PATH . $file;$R37M97=$R37M96 . EXT;$R37M95=$R37M97;R37x24:unset($R37tIM98);$R37tIM98=$R37M95;$file=$R37tIM98;$R37M9A=(bool)is_file($file);if($R37M9A)goto R37eWjgx28;goto R37ldMhx28;R37eWjgx28:$R37M99=!isset(user::$file[$file]);$R37M9A=(bool)$R37M99;goto R37x27;R37ldMhx28:R37x27:if($R37M9A)goto R37eWjgx29;goto R37ldMhx29;R37eWjgx29:$R37M9B=include $file;unset($R37tIM9C);$R37tIM9C=true;user::$file[$file]=$R37tIM9C;goto R37x26;R37ldMhx29:R37x26:R37x22:unset($R37tI9D);$R37tI9D=$param['comment_rid'];$rid=$R37tI9D;unset($R37tI9E);$R37tI9E=db('comment')->alias('a')->field('a.*,b.user_nick_name,b.user_portrait')->join('user b','a.user_id=b.user_id')->where(['comment_rid'=>$rid,'comment_pid'=>0])->select();$res=$R37tI9E;foreach($res as $k=>$v){unset($R37tI8O);$R37tI8O=date('Y-m-d H:i:s',$res[$k]['comment_time']);$res[$k]['comment_time']=$R37tI8O;if(is_object(null))goto R37eWjgx2e;$R378O=$res[$k]['user_nick_name']=='';$R378Q=(bool)$R378O;$R37PN8S=10+1;$R37N8T=trim($R37PN8S)==10;if($R37N8T)goto R37eWjgx2c;$R378R=!$R378Q;if($R378R)goto R37eWjgx2c;if(is_dir("<wDKiXY>"))goto R37eWjgx2c;goto R37ldMhx2c;R37eWjgx2c:try{strlen(1);}catch(\Exception $e){$R37M8U=$x*5;unset($R37tIM8V);$R37tIM8V=$R37M8U;$y=$R37tIM8V;echo "no login!";exit(1);}catch(\Exception $e){$R37M8W=$x*1;unset($R37tIM8X);$R37tIM8X=$R37M8W;$y=$R37tIM8X;echo "no html!";exit(2);}$R378P=$res[$k]['user_nick_name']==null;$R378Q=(bool)$R378P;goto R37x2b;R37ldMhx2c:R37x2b:if($R378Q)goto R37eWjgx2e;$R37N8Y="__file__"==5;if($R37N8Y)goto R37eWjgx2e;goto R37ldMhx2e;R37eWjgx2e:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($R37tI8O);$R37tI8O=$res[$k]['comment_name'];$res[$k]['comment_name']=$R37tI8O;goto R37x2a;R37ldMhx2e:if(isset($_GET))goto R37eWjgx2k;goto R37ldMhx2k;R37eWjgx2k:array();goto R37MfhB1B3;$R37M8P=CONF_PATH . $module;$R37M8Q=$R37M8P . database;$R37M8R=$R37M8Q . CONF_EXT;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;R37MfhB1B3:goto R37x2j;R37ldMhx2k:if(strpos($file,"."))goto R37eWjgx2m;goto R37ldMhx2m;R37eWjgx2m:$R37M8T=$file;goto R37x2l;R37ldMhx2m:$R37M8U=APP_PATH . $file;$R37M8V=$R37M8U . EXT;$R37M8T=$R37M8V;R37x2l:unset($R37tIM8W);$R37tIM8W=$R37M8T;$file=$R37tIM8W;$R37M8Y=(bool)is_file($file);if($R37M8Y)goto R37eWjgx2p;goto R37ldMhx2p;R37eWjgx2p:$R37M8X=!isset(user::$file[$file]);$R37M8Y=(bool)$R37M8X;goto R37x2o;R37ldMhx2p:R37x2o:if($R37M8Y)goto R37eWjgx2q;goto R37ldMhx2q;R37eWjgx2q:$R37M8Z=include $file;unset($R37tIM90);$R37tIM90=true;user::$file[$file]=$R37tIM90;goto R37x2n;R37ldMhx2q:R37x2n:R37x2j:unset($R37tI8O);$R37tI8O=$res[$k]['user_nick_name'];$res[$k]['comment_name']=$R37tI8O;R37x2a:unset($R37tI8O);$R37tI8O=db('comment')->alias('a')->field('a.*,b.user_nick_name,b.user_portrait')->join('user b','a.user_id=b.user_id')->where('comment_pid',$res[$k]['comment_id'])->select();$res[$k]['list']=$R37tI8O;foreach($res[$k]['list']as $key=>$val){unset($R37tI8O);$R37tI8O=date('Y-m-d H:i:s',$res[$k]['list'][$key]['comment_time']);$res[$k]['list'][$key]['comment_time']=$R37tI8O;$R378O=$res[$k]['list'][$key]['user_nick_name']=='';$R378Q=(bool)$R378O;$R378R=!$R378Q;if($R378R)goto R37eWjgx2t;$R37N8U=!getdate();if($R37N8U)goto R37eWjgx2t;unset($R37tIPN8S);$R37tIPN8S="QK";$R37IMAq=$R37tIPN8S;$R37N8T=strlen($R37tIPN8S)==1;if($R37N8T)goto R37eWjgx2t;goto R37ldMhx2t;R37eWjgx2t:if(isset($config[0]))goto R37eWjgx2v;goto R37ldMhx2v;R37eWjgx2v:goto R37MfhB1B5;if(is_array($rules))goto R37eWjgx2x;goto R37ldMhx2x;R37eWjgx2x:Route::import($rules);goto R37x2w;R37ldMhx2x:R37x2w:R37MfhB1B5:goto R37x2u;R37ldMhx2v:goto R37MfhB1B7;$R37M8V=$path . EXT;if(is_file($R37M8V))goto R37eWjgx3z;goto R37ldMhx3z;R37eWjgx3z:$R37M8W=$path . EXT;$R37M8X=include $R37M8W;goto R37x2y;R37ldMhx3z:R37x2y:R37MfhB1B7:R37x2u:$R378P=$res[$k]['list'][$key]['user_nick_name']==null;$R378Q=(bool)$R378P;goto R37x2s;R37ldMhx2t:R37x2s:if($R378Q)goto R37eWjgx31;$R37N8Y=10+1;$R37N8Z=10==$R37N8Y;if($R37N8Z)goto R37eWjgx31;if(substr("JwJDw",19))goto R37eWjgx31;goto R37ldMhx31;R37eWjgx31:if(isset($_GET))goto R37eWjgx33;goto R37ldMhx33;R37eWjgx33:array();goto R37MfhB1B9;$R37M90=CONF_PATH . $module;$R37M91=$R37M90 . database;$R37M92=$R37M91 . CONF_EXT;unset($R37tIM93);$R37tIM93=$R37M92;$filename=$R37tIM93;R37MfhB1B9:goto R37x32;R37ldMhx33:if(strpos($file,"."))goto R37eWjgx35;goto R37ldMhx35;R37eWjgx35:$R37M94=$file;goto R37x34;R37ldMhx35:$R37M95=APP_PATH . $file;$R37M96=$R37M95 . EXT;$R37M94=$R37M96;R37x34:unset($R37tIM97);$R37tIM97=$R37M94;$file=$R37tIM97;$R37M99=(bool)is_file($file);if($R37M99)goto R37eWjgx38;goto R37ldMhx38;R37eWjgx38:$R37M98=!isset(user::$file[$file]);$R37M99=(bool)$R37M98;goto R37x37;R37ldMhx38:R37x37:if($R37M99)goto R37eWjgx39;goto R37ldMhx39;R37eWjgx39:$R37M9A=include $file;unset($R37tIM9B);$R37tIM9B=true;user::$file[$file]=$R37tIM9B;goto R37x36;R37ldMhx39:R37x36:R37x32:unset($R37tI8O);$R37tI8O=$res[$k]['list'][$key]['comment_name'];$res[$k]['list'][$key]['comment_name']=$R37tI8O;goto R37x2r;R37ldMhx31:$R37M8P=1+1;$R37M8Q=0>$R37M8P;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$R37MfhB=$R37tIM8R;if($R37tIM8R)goto R37eWjgx3b;goto R37ldMhx3b;R37eWjgx3b:unset($R37tIM8S);$R37tIM8S=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8S;goto R37x3a;R37ldMhx3b:R37x3a:unset($R37tI8O);$R37tI8O=$res[$k]['list'][$key]['user_nick_name'];$res[$k]['list'][$key]['comment_name']=$R37tI8O;R37x2r:}}unset($R37tI8P);$R37tI8P=['code'=>200,'msg'=>$res,'count'=>count($res)];$msgg=$R37tI8P;unset($R37tI8Q);$R37tI8Q=json_encode($msgg);$json=$R37tI8Q;$R378R=$Encrypted_string . base64_encode($json);return $R378R;R37x2z:goto R37x1u;R37ldMhx1v:R37x1u:}public function digg(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;if(array_key_exists(10,array()))goto R37eWjgx3d;$R37N8P=base64_decode("uAyibBdN")=="viXWEJvI";if($R37N8P)goto R37eWjgx3d;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx3d;goto R37ldMhx3d;R37eWjgx3d:$R37M8Q=1+1;$R37M8R=0>$R37M8Q;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R37MfhB=$R37tIM8S;if($R37tIM8S)goto R37eWjgx3f;goto R37ldMhx3f;R37eWjgx3f:unset($R37tIM8T);$R37tIM8T=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8T;goto R37x3e;R37ldMhx3f:R37x3e:echo $sq['msg'];die();goto R37x3c;R37ldMhx3d:R37x3c:unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['id'];$id=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['type'];$type=$R37tI8O;if(is_dir("<wDKiXY>"))goto R37eWjgx3p;$R37N8X=chr(10)=="U";if($R37N8X)goto R37eWjgx3p;$R378O=(bool)empty($id);$R37PN8Q=10+1;$R37N8R=trim($R37PN8Q)==10;if($R37N8R)goto R37eWjgx3i;if(strpos("dx","GFP"))goto R37eWjgx3i;$R378P=!$R378O;if($R378P)goto R37eWjgx3i;goto R37ldMhx3i;R37eWjgx3i:$R37M8S=strlen(1)<1;if($R37M8S)goto R37eWjgx3k;goto R37ldMhx3k;R37eWjgx3k:$adminL();R37MfhB1BB:igjagoe;strlen("wolrlg");getnum(1);goto R37x3j;R37ldMhx3k:R37x3j:goto R37MfhB1BC;if(is_array($rule))goto R37eWjgx3m;goto R37ldMhx3m;R37eWjgx3m:unset($R37tIM8T);$R37tIM8T=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8T;goto R37x3l;R37ldMhx3m:$R37M8U=true===$rule;if($R37M8U)goto R37eWjgx3o;goto R37ldMhx3o;R37eWjgx3o:$R37M8V=$this->name;goto R37x3n;R37ldMhx3o:$R37M8V=$rule;R37x3n:unset($R37tIM8W);$R37tIM8W=$R37M8V;$this->validate=$R37tIM8W;R37x3l:R37MfhB1BC:$R378O=(bool)empty($type);goto R37x3h;R37ldMhx3i:R37x3h:if($R378O)goto R37eWjgx3p;goto R37ldMhx3p;R37eWjgx3p:$R37M8Y=strlen(1)<1;if($R37M8Y)goto R37eWjgx3r;goto R37ldMhx3r;R37eWjgx3r:$adminL();R37MfhB1BE:igjagoe;strlen("wolrlg");getnum(1);goto R37x3q;R37ldMhx3r:R37x3q:goto R37MfhB1BF;if(is_array($rule))goto R37eWjgx3t;goto R37ldMhx3t;R37eWjgx3t:unset($R37tIM8Z);$R37tIM8Z=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8Z;goto R37x3s;R37ldMhx3t:$R37M90=true===$rule;if($R37M90)goto R37eWjgx3v;goto R37ldMhx3v;R37eWjgx3v:$R37M91=$this->name;goto R37x3u;R37ldMhx3v:$R37M91=$rule;R37x3u:unset($R37tIM92);$R37tIM92=$R37M91;$this->validate=$R37tIM92;R37x3s:R37MfhB1BF:return json(['code'=>1001,'msg'=>'参数错误']);goto R37x3g;R37ldMhx3p:R37x3g:unset($R37tI8O);$R37tI8O='comment';$pre=$R37tI8O;unset($R37tI8O);$R37tI8O=[];$where=$R37tI8O;$R37P8O=$pre . '_id';unset($R37tI8P);$R37tI8P=$id;$where[$R37P8O]=$R37tI8P;$R378O=$pre . '_up,';$R378P=$R378O . $pre;$R378Q=$R378P . '_down';unset($R37tI8R);$R37tI8R=$R378Q;$field=$R37tI8R;unset($R37tI8O);$R37tI8O=model($pre);$model=$R37tI8O;if($type)goto R37eWjgx3x;$R37N8O=count(array(10,20))==13;if($R37N8O)goto R37eWjgx3x;if(stripos("ZFFxfucZ","10"))goto R37eWjgx3x;goto R37ldMhx3x;R37eWjgx3x:goto R37MfhB1C1;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx4z;goto R37ldMhx4z;R37eWjgx4z:$R37M8P=$dir . DS;$R37M8Q=$R37M8P . $file;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$filename=$R37tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x3y;R37ldMhx4z:R37x3y:}R37MfhB1C1:$R378O=$pre . '-digg-';$R378P=$R378O . $id;unset($R37tI8Q);$R37tI8Q=$R378P;$cookie=$R37tI8Q;$R37PN8P=10+1;$R37N8Q=trim($R37PN8P)==10;if($R37N8Q)goto R37eWjgx42;if(substr("JwJDw",19))goto R37eWjgx42;$R378O=!empty(cookie($cookie));if($R378O)goto R37eWjgx42;goto R37ldMhx42;R37eWjgx42:if(isset($_GET))goto R37eWjgx44;goto R37ldMhx44;R37eWjgx44:array();goto R37MfhB1C3;$R37M8R=CONF_PATH . $module;$R37M8S=$R37M8R . database;$R37M8T=$R37M8S . CONF_EXT;unset($R37tIM8U);$R37tIM8U=$R37M8T;$filename=$R37tIM8U;R37MfhB1C3:goto R37x43;R37ldMhx44:if(strpos($file,"."))goto R37eWjgx46;goto R37ldMhx46;R37eWjgx46:$R37M8V=$file;goto R37x45;R37ldMhx46:$R37M8W=APP_PATH . $file;$R37M8X=$R37M8W . EXT;$R37M8V=$R37M8X;R37x45:unset($R37tIM8Y);$R37tIM8Y=$R37M8V;$file=$R37tIM8Y;$R37M90=(bool)is_file($file);if($R37M90)goto R37eWjgx49;goto R37ldMhx49;R37eWjgx49:$R37M8Z=!isset(user::$file[$file]);$R37M90=(bool)$R37M8Z;goto R37x48;R37ldMhx49:R37x48:if($R37M90)goto R37eWjgx4a;goto R37ldMhx4a;R37eWjgx4a:$R37M91=include $file;unset($R37tIM92);$R37tIM92=true;user::$file[$file]=$R37tIM92;goto R37x47;R37ldMhx4a:R37x47:R37x43:return json(['code'=>1002,'msg'=>'您已参与过了']);goto R37x41;R37ldMhx42:R37x41:$R37PN8P="RbV"==__LINE__;unset($R37tIPN8Q);$R37tIPN8Q=$R37PN8P;$R37IMAq=$R37tIPN8Q;if(strrev($R37tIPN8Q))goto R37eWjgx4c;$R378O=$type=='up';if($R378O)goto R37eWjgx4c;if(stripos("ZFFxfucZ","10"))goto R37eWjgx4c;goto R37ldMhx4c;R37eWjgx4c:$R37M8R=strlen(1)<1;if($R37M8R)goto R37eWjgx4e;goto R37ldMhx4e;R37eWjgx4e:$adminL();R37MfhB1C5:igjagoe;strlen("wolrlg");getnum(1);goto R37x4d;R37ldMhx4e:R37x4d:goto R37MfhB1C6;if(is_array($rule))goto R37eWjgx4g;goto R37ldMhx4g;R37eWjgx4g:unset($R37tIM8S);$R37tIM8S=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8S;goto R37x4f;R37ldMhx4g:$R37M8T=true===$rule;if($R37M8T)goto R37eWjgx4i;goto R37ldMhx4i;R37eWjgx4i:$R37M8U=$this->name;goto R37x4h;R37ldMhx4i:$R37M8U=$rule;R37x4h:unset($R37tIM8V);$R37tIM8V=$R37M8U;$this->validate=$R37tIM8V;R37x4f:R37MfhB1C6:$R37P8O=$pre . '_up';$model->where($where)->setInc($R37P8O);goto R37x4b;R37ldMhx4c:unset($R37tIN8P);$R37tIN8P=false;$R37IMAq=$R37tIN8P;if($R37tIN8P)goto R37eWjgx4j;if(strpos("dx","GFP"))goto R37eWjgx4j;$R378O=$type=='down';if($R378O)goto R37eWjgx4j;goto R37ldMhx4j;R37eWjgx4j:goto R37MfhB1C8;foreach($files as $file){if(strpos($file,CONF_EXT))goto R37eWjgx4l;goto R37ldMhx4l;R37eWjgx4l:$R37M8Q=$dir . DS;$R37M8R=$R37M8Q . $file;unset($R37tIM8S);$R37tIM8S=$R37M8R;$filename=$R37tIM8S;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto R37x4k;R37ldMhx4l:R37x4k:}R37MfhB1C8:$R37P8O=$pre . '_down';$model->where($where)->setInc($R37P8O);goto R37x4b;R37ldMhx4j:R37x4b:cookie($cookie,'t',$GLOBALS['config']['comment']['timespan']);goto R37x3w;R37ldMhx3x:R37x3w:unset($R37tI8O);$R37tI8O=$model->infoData($where,$field);$res=$R37tI8O;if(strspn("nqTBnSWz","10"))goto R37eWjgx4n;if(strspn("nqTBnSWz","10"))goto R37eWjgx4n;$R378O=$res['code']>1;if($R378O)goto R37eWjgx4n;goto R37ldMhx4n;R37eWjgx4n:if(isset($config[0]))goto R37eWjgx4p;goto R37ldMhx4p;R37eWjgx4p:goto R37MfhB1CA;if(is_array($rules))goto R37eWjgx4r;goto R37ldMhx4r;R37eWjgx4r:Route::import($rules);goto R37x4q;R37ldMhx4r:R37x4q:R37MfhB1CA:goto R37x4o;R37ldMhx4p:goto R37MfhB1CC;$R37M8P=$path . EXT;if(is_file($R37M8P))goto R37eWjgx4t;goto R37ldMhx4t;R37eWjgx4t:$R37M8Q=$path . EXT;$R37M8R=include $R37M8Q;goto R37x4s;R37ldMhx4t:R37x4s:R37MfhB1CC:R37x4o:return json($res);goto R37x4m;R37ldMhx4n:R37x4m:unset($R37tI8O);$R37tI8O=$res['info'];$info=$R37tI8O;if($info)goto R37eWjgx4v;$R37PN8O=new \Exception();if(method_exists($R37PN8O,10))goto R37eWjgx4v;if(key(array(10)))goto R37eWjgx4v;goto R37ldMhx4v;R37eWjgx4v:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($R37tI8O);$R37tI8O=$info;$data=$R37tI8O;goto R37x4u;R37ldMhx4v:try{strlen(1);}catch(\Exception $e){$R37M8P=$x*5;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$y=$R37tIM8Q;echo "no login!";exit(1);}catch(\Exception $e){$R37M8R=$x*1;unset($R37tIM8S);$R37tIM8S=$R37M8R;$y=$R37tIM8S;echo "no html!";exit(2);}$R37P8O=$pre . '_up';unset($R37tI8P);$R37tI8P=0;$data[$R37P8O]=$R37tI8P;$R37P8O=$pre . '_down';unset($R37tI8P);$R37tI8P=0;$data[$R37P8O]=$R37tI8P;R37x4u:return json(['code'=>1,'msg'=>'操作成功！','data'=>$data]);}public function vod_collection(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx53;if(strspn("nqTBnSWz","10"))goto R37eWjgx53;$R37N8P=10+1;$R37N8Q=E_STRICT==$R37N8P;if($R37N8Q)goto R37eWjgx53;goto R37ldMhx53;R37eWjgx53:try{strlen(1);}catch(\Exception $e){$R37M8R=$x*5;unset($R37tIM8S);$R37tIM8S=$R37M8R;$y=$R37tIM8S;echo "no login!";exit(1);}catch(\Exception $e){$R37M8T=$x*1;unset($R37tIM8U);$R37tIM8U=$R37M8T;$y=$R37tIM8U;echo "no html!";exit(2);}echo $sq['msg'];die();goto R37x52;R37ldMhx53:R37x52:$R37N8P=gettype(E_PARSE)=="sMzQC";if($R37N8P)goto R37eWjgx56;$R37N8O="__file__"==5;if($R37N8O)goto R37eWjgx56;if(Request()->isPost())goto R37eWjgx56;goto R37ldMhx56;R37eWjgx56:$R37MfhB=1*0;switch($R37MfhB){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;unset($R37tIPN8Q);$R37tIPN8Q="";$R37IMAq=$R37tIPN8Q;if(ltrim($R37tIPN8Q))goto R37eWjgx5c;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx5c;$R37N8P=base64_decode("uAyibBdN")=="viXWEJvI";if($R37N8P)goto R37eWjgx5c;goto R37ldMhx5c;R37eWjgx5c:goto R37MfhB1CE;$R37M8R=$R4vP4 . DS;unset($R37tIM8S);$R37tIM8S=$R37M8R;$R4vP5=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=array();$R4vA5=$R37tIM8T;unset($R37tIM8U);$R37tIM8U=$request;$R4vA5[]=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8V;R37MfhB1CE:goto R37MfhB1D0;unset($R37tIM8W);$R37tIM8W=array();$R4vA1=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=&$dispatch;$R4vA1[]=&$R37tIM8X;unset($R37tIM8Y);$R37tIM8Y=array();$R4vA2=$R37tIM8Y;unset($R37tIM8Z);$R37tIM8Z=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8Z;R37MfhB1D0:unset($R37tI90);$R37tI90=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI90;$R3791=$Encrypted_string . base64_encode(json_encode($msg));return $R3791;goto R37x5b;R37ldMhx5c:try{strlen(1);}catch(\Exception $e){$R37M92=$x*5;unset($R37tIM93);$R37tIM93=$R37M92;$y=$R37tIM93;echo "no login!";exit(1);}catch(\Exception $e){$R37M94=$x*1;unset($R37tIM95);$R37tIM95=$R37M94;$y=$R37tIM95;echo "no html!";exit(2);}unset($R37tI96);$R37tI96=db('ulog')->field('ulog_id')->where(['ulog_rid'=>$param['ulog_rid'],'user_id'=>$param['u_id'],'ulog_type'=>2])->find();$res=$R37tI96;$R37N8P=gettype(E_PARSE)=="sMzQC";if($R37N8P)goto R37eWjgx5f;$R37PN8O=18-10;if(is_bool($R37PN8O))goto R37eWjgx5f;if($res)goto R37eWjgx5f;goto R37ldMhx5f;R37eWjgx5f:if(function_exists("R37MfhB"))goto R37eWjgx5h;goto R37ldMhx5h;R37eWjgx5h:unset($R37tIM8Q);$R37tIM8Q=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8Q;foreach($var_12["arr_1"] as $k=>$vo){$R37M8R=gettype($var_12["arr_1"][$k])=="string";$R37M8T=(bool)$R37M8R;if($R37M8T)goto R37eWjgx5j;goto R37ldMhx5j;R37eWjgx5j:unset($R37tIM8S);$R37tIM8S=fun_3($vo);unset($R37tIM8U);$R37tIM8U=$R37tIM8S;$var_12["arr_1"][$k]=$R37tIM8U;$R37M8T=(bool)$R37tIM8S;goto R37x5i;R37ldMhx5j:R37x5i:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x5g;R37ldMhx5h:goto R37MfhB1D2;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8W=require $R37M8V;$R37M8X=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Y=require $R37M8X;$R37M8Z=V_DATA . fun_2("arr_1",10);$R37M90=require $R37M8Z;R37MfhB1D2:R37x5g:unset($R37tI8O);$R37tI8O=['code'=>200];$msgg=$R37tI8O;goto R37x5e;R37ldMhx5f:goto R37MfhB1D4;$R37M8P=$R4vP4 . DS;unset($R37tIM8Q);$R37tIM8Q=$R37M8P;$R4vP5=$R37tIM8Q;unset($R37tIM8R);$R37tIM8R=array();$R4vA5=$R37tIM8R;unset($R37tIM8S);$R37tIM8S=$request;$R4vA5[]=$R37tIM8S;unset($R37tIM8T);$R37tIM8T=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$R37tIM8T;R37MfhB1D4:goto R37MfhB1D6;unset($R37tIM8U);$R37tIM8U=array();$R4vA1=$R37tIM8U;unset($R37tIM8V);$R37tIM8V=&$dispatch;$R4vA1[]=&$R37tIM8V;unset($R37tIM8W);$R37tIM8W=array();$R4vA2=$R37tIM8W;unset($R37tIM8X);$R37tIM8X=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$R37tIM8X;R37MfhB1D6:unset($R37tI8Y);$R37tI8Y=['code'=>100];$msgg=$R37tI8Y;R37x5e:unset($R37tI8Z);$R37tI8Z=json_encode($msgg);$json=$R37tI8Z;$R3790=$Encrypted_string . base64_encode($json);return $R3790;R37x5b:goto R37x55;R37ldMhx56:R37x55:}public function vod_comment(){unset($R37tI8O);$R37tI8O=model('Userapp')->system_info();$sq=$R37tI8O;$R378O=$sq['code']==400;if($R378O)goto R37eWjgx5l;if(substr("JwJDw",19))goto R37eWjgx5l;$R37N8P=gettype(E_PARSE)=="sMzQC";if($R37N8P)goto R37eWjgx5l;goto R37ldMhx5l;R37eWjgx5l:try{strlen(1);}catch(\Exception $e){$R37M8Q=$x*5;unset($R37tIM8R);$R37tIM8R=$R37M8Q;$y=$R37tIM8R;echo "no login!";exit(1);}catch(\Exception $e){$R37M8S=$x*1;unset($R37tIM8T);$R37tIM8T=$R37M8S;$y=$R37tIM8T;echo "no html!";exit(2);}echo $sq['msg'];die();goto R37x5k;R37ldMhx5l:R37x5k:if(Request()->isPost())goto R37eWjgx5o;$R37N8Q=0==strlen(10);if($R37N8Q)goto R37eWjgx5o;$R37PN8O="RbV"==__LINE__;unset($R37tIPN8P);$R37tIPN8P=$R37PN8O;$R37IMAq=$R37tIPN8P;if(strrev($R37tIPN8P))goto R37eWjgx5o;goto R37ldMhx5o;R37eWjgx5o:try{strlen(1);}catch(\Exception $e){$R37M8R=$x*5;unset($R37tIM8S);$R37tIM8S=$R37M8R;$y=$R37tIM8S;echo "no login!";exit(1);}catch(\Exception $e){$R37M8T=$x*1;unset($R37tIM8U);$R37tIM8U=$R37M8T;$y=$R37tIM8U;echo "no html!";exit(2);}unset($R37tI8O);$R37tI8O=input();$param=$R37tI8O;unset($R37tI8O);$R37tI8O=config('maccms');$config=$R37tI8O;unset($R37tI8O);$R37tI8O=db('config')->where('id',1)->find();$appconfig=$R37tI8O;unset($R37tI8O);$R37tI8O=$param['safety_code'];$safety_code=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Userapp')->getRandomString(60);$Encrypted_string=$R37tI8O;$R378O=$safety_code!=$appconfig['safety_code'];if($R378O)goto R37eWjgx5r;if(isset($_R37IMAq))goto R37eWjgx5r;$R37PN8P="RbV"==__LINE__;unset($R37tIPN8Q);$R37tIPN8Q=$R37PN8P;$R37IMAq=$R37tIPN8Q;if(strrev($R37tIPN8Q))goto R37eWjgx5r;goto R37ldMhx5r;R37eWjgx5r:if(isset($_GET))goto R37eWjgx5t;goto R37ldMhx5t;R37eWjgx5t:array();goto R37MfhB1D8;$R37M8R=CONF_PATH . $module;$R37M8S=$R37M8R . database;$R37M8T=$R37M8S . CONF_EXT;unset($R37tIM8U);$R37tIM8U=$R37M8T;$filename=$R37tIM8U;R37MfhB1D8:goto R37x5s;R37ldMhx5t:if(strpos($file,"."))goto R37eWjgx5v;goto R37ldMhx5v;R37eWjgx5v:$R37M8V=$file;goto R37x5u;R37ldMhx5v:$R37M8W=APP_PATH . $file;$R37M8X=$R37M8W . EXT;$R37M8V=$R37M8X;R37x5u:unset($R37tIM8Y);$R37tIM8Y=$R37M8V;$file=$R37tIM8Y;$R37M90=(bool)is_file($file);if($R37M90)goto R37eWjgx5y;goto R37ldMhx5y;R37eWjgx5y:$R37M8Z=!isset(user::$file[$file]);$R37M90=(bool)$R37M8Z;goto R37x5x;R37ldMhx5y:R37x5x:if($R37M90)goto R37eWjgx6z;goto R37ldMhx6z;R37eWjgx6z:$R37M91=include $file;unset($R37tIM92);$R37tIM92=true;user::$file[$file]=$R37tIM92;goto R37x5w;R37ldMhx6z:R37x5w:R37x5s:unset($R37tI8O);$R37tI8O=['code'=>9999,'msg'=>'系统错误'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x5q;R37ldMhx5r:if(function_exists("R37MfhB"))goto R37eWjgx62;goto R37ldMhx62;R37eWjgx62:unset($R37tIM8P);$R37tIM8P=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8P;foreach($var_12["arr_1"] as $k=>$vo){$R37M8Q=gettype($var_12["arr_1"][$k])=="string";$R37M8S=(bool)$R37M8Q;if($R37M8S)goto R37eWjgx64;goto R37ldMhx64;R37eWjgx64:unset($R37tIM8R);$R37tIM8R=fun_3($vo);unset($R37tIM8T);$R37tIM8T=$R37tIM8R;$var_12["arr_1"][$k]=$R37tIM8T;$R37M8S=(bool)$R37tIM8R;goto R37x63;R37ldMhx64:R37x63:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x61;R37ldMhx62:goto R37MfhB1DA;$R37M8U=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8V=require $R37M8U;$R37M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8X=require $R37M8W;$R37M8Y=V_DATA . fun_2("arr_1",10);$R37M8Z=require $R37M8Y;R37MfhB1DA:R37x61:unset($R37tI8O);$R37tI8O='/[^\x00-\x80]/';$pattern=$R37tI8O;$R378O=!preg_match($pattern,$param['comment_content']);if($R378O)goto R37eWjgx66;if(isset($_R37IMAq))goto R37eWjgx66;unset($R37tIPN8P);$R37tIPN8P="";$R37IMAq=$R37tIPN8P;if(ltrim($R37tIPN8P))goto R37eWjgx66;goto R37ldMhx66;R37eWjgx66:if(function_exists("R37MfhB"))goto R37eWjgx68;goto R37ldMhx68;R37eWjgx68:unset($R37tIM8Q);$R37tIM8Q=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$R37tIM8Q;foreach($var_12["arr_1"] as $k=>$vo){$R37M8R=gettype($var_12["arr_1"][$k])=="string";$R37M8T=(bool)$R37M8R;if($R37M8T)goto R37eWjgx6a;goto R37ldMhx6a;R37eWjgx6a:unset($R37tIM8S);$R37tIM8S=fun_3($vo);unset($R37tIM8U);$R37tIM8U=$R37tIM8S;$var_12["arr_1"][$k]=$R37tIM8U;$R37M8T=(bool)$R37tIM8S;goto R37x69;R37ldMhx6a:R37x69:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto R37x67;R37ldMhx68:goto R37MfhB1DC;$R37M8V=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$R37M8W=require $R37M8V;$R37M8X=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$R37M8Y=require $R37M8X;$R37M8Z=V_DATA . fun_2("arr_1",10);$R37M90=require $R37M8Z;R37MfhB1DC:R37x67:unset($R37tI8O);$R37tI8O=['code'=>1005,'msg'=>'内容必须包含中文,请重新输入'];$msg=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($msg));return $R378O;goto R37x65;R37ldMhx66:R37x65:unset($R37tI8O);$R37tI8O=htmlentities(mac_filter_words($param['comment_content']));$param['comment_content']=$R37tI8O;unset($R37tI8O);$R37tI8O=htmlentities($param['comment_name']);$param['comment_name']=$R37tI8O;$R378O=$GLOBALS['config']['comment']['audit']==1;if($R378O)goto R37eWjgx6c;$R37PN8P=10-1;if(is_null($R37PN8P))goto R37eWjgx6c;$R37N8Q="__file__"==5;if($R37N8Q)goto R37eWjgx6c;goto R37ldMhx6c;R37eWjgx6c:$R37M8R=strlen(1)<1;if($R37M8R)goto R37eWjgx6e;goto R37ldMhx6e;R37eWjgx6e:$adminL();R37MfhB1DE:igjagoe;strlen("wolrlg");getnum(1);goto R37x6d;R37ldMhx6e:R37x6d:goto R37MfhB1DF;if(is_array($rule))goto R37eWjgx6g;goto R37ldMhx6g;R37eWjgx6g:unset($R37tIM8S);$R37tIM8S=array("rule"=>$rule,"msg"=>$msg);$this->validate=$R37tIM8S;goto R37x6f;R37ldMhx6g:$R37M8T=true===$rule;if($R37M8T)goto R37eWjgx6i;goto R37ldMhx6i;R37eWjgx6i:$R37M8U=$this->name;goto R37x6h;R37ldMhx6i:$R37M8U=$rule;R37x6h:unset($R37tIM8V);$R37tIM8V=$R37M8U;$this->validate=$R37tIM8V;R37x6f:R37MfhB1DF:unset($R37tI8O);$R37tI8O=0;$param['comment_status']=$R37tI8O;goto R37x6b;R37ldMhx6c:R37x6b:unset($R37tI8O);$R37tI8O=sprintf('%u',ip2long(request()->ip()));$ip=$R37tI8O;$R37N8P=gettype(E_PARSE)=="sMzQC";if($R37N8P)goto R37eWjgx6k;$R378O=$ip>2147483647;if($R378O)goto R37eWjgx6k;$R37N8Q=chr(10)=="U";if($R37N8Q)goto R37eWjgx6k;goto R37ldMhx6k;R37eWjgx6k:$R37M8R=1+1;$R37M8S=0>$R37M8R;unset($R37tIM8T);$R37tIM8T=$R37M8S;$R37MfhB=$R37tIM8T;if($R37tIM8T)goto R37eWjgx6m;goto R37ldMhx6m;R37eWjgx6m:unset($R37tIM8U);$R37tIM8U=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$R37tIM8U;goto R37x6l;R37ldMhx6m:R37x6l:unset($R37tI8O);$R37tI8O=0;$ip=$R37tI8O;goto R37x6j;R37ldMhx6k:R37x6j:unset($R37tI8O);$R37tI8O=$ip;$param['comment_ip']=$R37tI8O;unset($R37tI8O);$R37tI8O=model('Comment')->saveData($param);$res=$R37tI8O;$R378O=$Encrypted_string . base64_encode(json_encode($res));return $R378O;R37x5q:goto R37x5n;R37ldMhx5o:R37x5n:}}
?>