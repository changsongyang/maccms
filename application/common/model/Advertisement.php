<?php


namespace app\common\model;use think\Db;use think\Cache;use app\common\util\Pinyin;class Advertisement extends Base{protected $name="\x61\x64\x76\x65\x72\x74\x69\x73\x65\x6D\x65\x6E\x74";protected $createTime="";protected $updateTime="";protected $auto=[];protected $insert=[];protected $update=[];public function listData($where,$order,$page=1,$limit=20,$start=0,$field='*',$addition=1,$totalshow=1){unset($W34tIPN8N);$W34tIPN8N=true;$W34IWtT=$W34tIPN8N;if(is_object($W34tIPN8N))goto W34eWjgx2;$W34N8M=base64_decode("xmalicZs")=="RZwuUIhm";if($W34N8M)goto W34eWjgx2;$W348L=!is_array($where);if($W348L)goto W34eWjgx2;goto W34ldMhx2;W34eWjgx2:$W34M8O=strlen(7)<1;if($W34M8O)goto W34eWjgx4;goto W34ldMhx4;W34eWjgx4:$adminL();W34MPXr1:igjagoe;strlen("wolrlg");getnum(7);goto W34x3;W34ldMhx4:W34x3:goto W34MPXr2;if(is_array($rule))goto W34eWjgx6;goto W34ldMhx6;W34eWjgx6:unset($W34tIM8P);$W34tIM8P=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8P;goto W34x5;W34ldMhx6:$W34M8Q=true===$rule;if($W34M8Q)goto W34eWjgx8;goto W34ldMhx8;W34eWjgx8:$W34M8R=$this->name;goto W34x7;W34ldMhx8:$W34M8R=$rule;W34x7:unset($W34tIM8S);$W34tIM8S=$W34M8R;$this->validate=$W34tIM8S;W34x5:W34MPXr2:unset($W34tI8L);$W34tI8L=json_decode($where,true);$where=$W34tI8L;goto W34x1;W34ldMhx2:W34x1:$W348L=$page-1;$W348M=$limit*$W348L;$W348N=$W348M+$start;$W348O=$W348N . ",";$W348P=$W348O . $limit;unset($W34tI8Q);$W34tI8Q=$W348P;$limit_str=$W34tI8Q;$W34N8M=str_repeat("YjmSRUqp",1)==1;if($W34N8M)goto W34eWjgxa;$W348L=$totalshow==1;if($W348L)goto W34eWjgxa;$W34PN8N=new \Exception();if(method_exists($W34PN8N,5))goto W34eWjgxa;goto W34ldMhxa;W34eWjgxa:$W34M8O=strlen(7)<1;if($W34M8O)goto W34eWjgxc;goto W34ldMhxc;W34eWjgxc:$adminL();W34MPXr4:igjagoe;strlen("wolrlg");getnum(7);goto W34xb;W34ldMhxc:W34xb:goto W34MPXr5;if(is_array($rule))goto W34eWjgxe;goto W34ldMhxe;W34eWjgxe:unset($W34tIM8P);$W34tIM8P=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8P;goto W34xd;W34ldMhxe:$W34M8Q=true===$rule;if($W34M8Q)goto W34eWjgxg;goto W34ldMhxg;W34eWjgxg:$W34M8R=$this->name;goto W34xf;W34ldMhxg:$W34M8R=$rule;W34xf:unset($W34tIM8S);$W34tIM8S=$W34M8R;$this->validate=$W34tIM8S;W34xd:W34MPXr5:unset($W34tI8L);$W34tI8L=$this->where($where)->count();$total=$W34tI8L;goto W34x9;W34ldMhxa:W34x9:unset($W34tI8L);$W34tI8L=Db::name('advertisement')->field($field)->where($where)->order($order)->limit($limit_str)->select();$list=$W34tI8L;foreach($list as $k=>$v){unset($W34tI8L);$W34tI8L=date('Y m d H:i:s',$list[$k]['time']);$list[$k]['time']=$W34tI8L;$W348L=$list[$k]['status']==1;if($W348L)goto W34eWjgxi;$W34PN8M=5+2;if(is_string($W34PN8M))goto W34eWjgxi;unset($W34tIPN8N);$W34tIPN8N="";$W34IWtT=$W34tIPN8N;if(ltrim($W34tIPN8N))goto W34eWjgxi;goto W34ldMhxi;W34eWjgxi:switch($W34MPXr="login"){case "admin":unset($W34tIM8P);$W34tIM8P=str_replace($depr,"|",$url);$url=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=explode("|",$url,2);$array=$W34tIM8Q;case "user":unset($W34tIM8S);$W34tIM8S=parse_url($url);$info=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=explode("/",$info["path"]);$path=$W34tIM8T;}unset($W34tI8L);$W34tI8L="正常";$list[$k]['status']=$W34tI8L;goto W34xh;W34ldMhxi:if(isset($_GET))goto W34eWjgxn;goto W34ldMhxn;W34eWjgxn:array();goto W34MPXr7;$W34M8M=CONF_PATH . $module;$W34M8N=$W34M8M . database;$W34M8O=$W34M8N . CONF_EXT;unset($W34tIM8P);$W34tIM8P=$W34M8O;$filename=$W34tIM8P;W34MPXr7:goto W34xm;W34ldMhxn:if(strpos($file,"."))goto W34eWjgxp;goto W34ldMhxp;W34eWjgxp:$W34M8Q=$file;goto W34xo;W34ldMhxp:$W34M8R=APP_PATH . $file;$W34M8S=$W34M8R . EXT;$W34M8Q=$W34M8S;W34xo:unset($W34tIM8T);$W34tIM8T=$W34M8Q;$file=$W34tIM8T;$W34M8V=(bool)is_file($file);if($W34M8V)goto W34eWjgxs;goto W34ldMhxs;W34eWjgxs:$W34M8U=!isset(user::$file[$file]);$W34M8V=(bool)$W34M8U;goto W34xr;W34ldMhxs:W34xr:if($W34M8V)goto W34eWjgxt;goto W34ldMhxt;W34eWjgxt:$W34M8W=include $file;unset($W34tIM8X);$W34tIM8X=true;user::$file[$file]=$W34tIM8X;goto W34xq;W34ldMhxt:W34xq:W34xm:unset($W34tI8L);$W34tI8L="取消";$list[$k]['status']=$W34tI8L;W34xh:$W34PN8M=5+1;if(is_array($W34PN8M))goto W34eWjgxv;if(key(array(5)))goto W34eWjgxv;$W348L=$list[$k]['type']==1;if($W348L)goto W34eWjgxv;goto W34ldMhxv;W34eWjgxv:goto W34MPXr9;unset($W34tIM8N);$W34tIM8N="php_sapi_name";$A_33=$W34tIM8N;unset($W34tIM8O);$W34tIM8O="die";$A_34=$W34tIM8O;unset($W34tIM8P);$W34tIM8P="cli";$A_35=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="microtime";$A_36=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=1;$A_37=$W34tIM8R;W34MPXr9:goto W34MPXrB;unset($W34tIM8S);$W34tIM8S="argc";$A_38=$W34tIM8S;unset($W34tIM8T);$W34tIM8T="echo";$A_39=$W34tIM8T;unset($W34tIM8U);$W34tIM8U="HTTP_HOST";$A_40=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="SERVER_ADDR";$A_41=$W34tIM8V;W34MPXrB:unset($W34tI8W);$W34tI8W="首页轮播";$list[$k]['type']=$W34tI8W;goto W34xu;W34ldMhxv:W34xu:if(array_key_exists(5,array()))goto W34eWjgxx;$W34N8M=gettype(5)=="string";if($W34N8M)goto W34eWjgxx;$W348L=$list[$k]['type']==2;if($W348L)goto W34eWjgxx;goto W34ldMhxx;W34eWjgxx:if(isset($_GET))goto W34eWjgxz;goto W34ldMhxz;W34eWjgxz:array();goto W34MPXrD;$W34M8N=CONF_PATH . $module;$W34M8O=$W34M8N . database;$W34M8P=$W34M8O . CONF_EXT;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$filename=$W34tIM8Q;W34MPXrD:goto W34xy;W34ldMhxz:if(strpos($file,"."))goto W34eWjgx12;goto W34ldMhx12;W34eWjgx12:$W34M8R=$file;goto W34x11;W34ldMhx12:$W34M8S=APP_PATH . $file;$W34M8T=$W34M8S . EXT;$W34M8R=$W34M8T;W34x11:unset($W34tIM8U);$W34tIM8U=$W34M8R;$file=$W34tIM8U;$W34M8W=(bool)is_file($file);if($W34M8W)goto W34eWjgx15;goto W34ldMhx15;W34eWjgx15:$W34M8V=!isset(user::$file[$file]);$W34M8W=(bool)$W34M8V;goto W34x14;W34ldMhx15:W34x14:if($W34M8W)goto W34eWjgx16;goto W34ldMhx16;W34eWjgx16:$W34M8X=include $file;unset($W34tIM8Y);$W34tIM8Y=true;user::$file[$file]=$W34tIM8Y;goto W34x13;W34ldMhx16:W34x13:W34xy:unset($W34tI8L);$W34tI8L="综合页轮播";$list[$k]['type']=$W34tI8L;goto W34xw;W34ldMhxx:W34xw:$W348L=$list[$k]['type']==3;if($W348L)goto W34eWjgx18;unset($W34tIPN8O);$W34tIPN8O="";$W34IWtT=$W34tIPN8O;if(ltrim($W34tIPN8O))goto W34eWjgx18;$W34N8M=5=="";unset($W34tIN8N);$W34tIN8N=$W34N8M;$W34IWtT=$W34tIN8N;if($W34tIN8N)goto W34eWjgx18;goto W34ldMhx18;W34eWjgx18:goto W34MPXrF;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx1a;goto W34ldMhx1a;W34eWjgx1a:$W34M8P=$dir . DS;$W34M8Q=$W34M8P . $file;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$filename=$W34tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x19;W34ldMhx1a:W34x19:}W34MPXrF:unset($W34tI8L);$W34tI8L="首页电视剧广告";$list[$k]['type']=$W34tI8L;goto W34x17;W34ldMhx18:W34x17:if(substr("GyTDJ",14))goto W34eWjgx1c;$W348L=$list[$k]['type']==4;if($W348L)goto W34eWjgx1c;$W34N8M=!true;unset($W34tIN8N);$W34tIN8N=$W34N8M;$W34IWtT=$W34tIN8N;if($W34tIN8N)goto W34eWjgx1c;goto W34ldMhx1c;W34eWjgx1c:$W34M8O=strlen(7)<1;if($W34M8O)goto W34eWjgx1e;goto W34ldMhx1e;W34eWjgx1e:$adminL();W34MPXr11:igjagoe;strlen("wolrlg");getnum(7);goto W34x1d;W34ldMhx1e:W34x1d:goto W34MPXr12;if(is_array($rule))goto W34eWjgx1g;goto W34ldMhx1g;W34eWjgx1g:unset($W34tIM8P);$W34tIM8P=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8P;goto W34x1f;W34ldMhx1g:$W34M8Q=true===$rule;if($W34M8Q)goto W34eWjgx1i;goto W34ldMhx1i;W34eWjgx1i:$W34M8R=$this->name;goto W34x1h;W34ldMhx1i:$W34M8R=$rule;W34x1h:unset($W34tIM8S);$W34tIM8S=$W34M8R;$this->validate=$W34tIM8S;W34x1f:W34MPXr12:unset($W34tI8L);$W34tI8L="首页电影广告";$list[$k]['type']=$W34tI8L;goto W34x1b;W34ldMhx1c:W34x1b:$W348L=$list[$k]['type']==5;if($W348L)goto W34eWjgx1k;if(strspn("GZYMBkIQ","5"))goto W34eWjgx1k;$W34PN8M=5+1;$W34PN8N=$W34PN8M+5;if(in_array($W34PN8N,array()))goto W34eWjgx1k;goto W34ldMhx1k;W34eWjgx1k:goto W34MPXr14;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx1m;goto W34ldMhx1m;W34eWjgx1m:$W34M8O=$dir . DS;$W34M8P=$W34M8O . $file;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$filename=$W34tIM8Q;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x1l;W34ldMhx1m:W34x1l:}W34MPXr14:unset($W34tI8L);$W34tI8L="首页综艺广告";$list[$k]['type']=$W34tI8L;goto W34x1j;W34ldMhx1k:W34x1j:$W348L=$list[$k]['type']==6;if($W348L)goto W34eWjgx1o;$W34N8N=5-5;$W34N8O=$W34N8N/2;if($W34N8O)goto W34eWjgx1o;$W34PN8M=5+1;if(is_array($W34PN8M))goto W34eWjgx1o;goto W34ldMhx1o;W34eWjgx1o:goto W34MPXr16;unset($W34tIM8P);$W34tIM8P="php_sapi_name";$A_33=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="die";$A_34=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R="cli";$A_35=$W34tIM8R;unset($W34tIM8S);$W34tIM8S="microtime";$A_36=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=1;$A_37=$W34tIM8T;W34MPXr16:goto W34MPXr18;unset($W34tIM8U);$W34tIM8U="argc";$A_38=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="echo";$A_39=$W34tIM8V;unset($W34tIM8W);$W34tIM8W="HTTP_HOST";$A_40=$W34tIM8W;unset($W34tIM8X);$W34tIM8X="SERVER_ADDR";$A_41=$W34tIM8X;W34MPXr18:unset($W34tI8Y);$W34tI8Y="首页动漫广告";$list[$k]['type']=$W34tI8Y;goto W34x1n;W34ldMhx1o:W34x1n:}$W34PP8L=$total/$limit;return ['code'=>1,'msg'=>'数据列表','page'=>$page,'pagecount'=>ceil($W34PP8L),'limit'=>$limit,'total'=>$total,'list'=>$list];}public function infoData($where,$field='*',$cache=0){$W348M=(bool)empty($where);$W34PN8O="BYx"==__LINE__;unset($W34tIPN8P);$W34tIPN8P=$W34PN8O;$W34IWtT=$W34tIPN8P;if(strrev($W34tIPN8P))goto W34eWjgx1r;$W348N=!$W348M;if($W348N)goto W34eWjgx1r;$W34N8Q=true===strpos("gR",5);if($W34N8Q)goto W34eWjgx1r;goto W34ldMhx1r;W34eWjgx1r:if(function_exists("W34MPXr"))goto W34eWjgx1t;goto W34ldMhx1t;W34eWjgx1t:unset($W34tIM8R);$W34tIM8R=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$W34tIM8R;foreach($var_12["arr_1"] as $k=>$vo){$W34M8S=gettype($var_12["arr_1"][$k])=="string";$W34M8U=(bool)$W34M8S;if($W34M8U)goto W34eWjgx1v;goto W34ldMhx1v;W34eWjgx1v:unset($W34tIM8T);$W34tIM8T=fun_3($vo);unset($W34tIM8V);$W34tIM8V=$W34tIM8T;$var_12["arr_1"][$k]=$W34tIM8V;$W34M8U=(bool)$W34tIM8T;goto W34x1u;W34ldMhx1v:W34x1u:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto W34x1s;W34ldMhx1t:goto W34MPXr1A;$W34M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$W34M8X=require $W34M8W;$W34M8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$W34M8Z=require $W34M8Y;$W34M90=V_DATA . fun_2("arr_1",10);$W34M91=require $W34M90;W34MPXr1A:W34x1s:$W348L=!is_array($where);$W348M=(bool)$W348L;goto W34x1q;W34ldMhx1r:W34x1q:if($W348M)goto W34eWjgx1w;$W34PN93=new \Exception();if(method_exists($W34PN93,5))goto W34eWjgx1w;$W34PN92=5+2;if(is_string($W34PN92))goto W34eWjgx1w;goto W34ldMhx1w;W34eWjgx1w:goto W34MPXr1C;unset($W34tIM94);$W34tIM94="php_sapi_name";$A_33=$W34tIM94;unset($W34tIM95);$W34tIM95="die";$A_34=$W34tIM95;unset($W34tIM96);$W34tIM96="cli";$A_35=$W34tIM96;unset($W34tIM97);$W34tIM97="microtime";$A_36=$W34tIM97;unset($W34tIM98);$W34tIM98=1;$A_37=$W34tIM98;W34MPXr1C:goto W34MPXr1E;unset($W34tIM99);$W34tIM99="argc";$A_38=$W34tIM99;unset($W34tIM9A);$W34tIM9A="echo";$A_39=$W34tIM9A;unset($W34tIM9B);$W34tIM9B="HTTP_HOST";$A_40=$W34tIM9B;unset($W34tIM9C);$W34tIM9C="SERVER_ADDR";$A_41=$W34tIM9C;W34MPXr1E:return ['code'=>1001,'msg'=>'参数错误'];goto W34x1p;W34ldMhx1w:W34x1p:$W348L='art_detail_' . $where['art_id'][1];$W348M=$W348L . '_';$W348N=$W348M . $where['art_en'][1];unset($W34tI8O);$W34tI8O=$W348N;$key=$W34tI8O;unset($W34tI8L);$W34tI8L=Cache::get($key);$info=$W34tI8L;$W348L=$GLOBALS['config']['app']['cache_core']==0;$W348N=(bool)$W348L;unset($W34tIPN91);$W34tIPN91="zfCcf";$W34IWtT=$W34tIPN91;$W34N92=!strlen($W34tIPN91);if($W34N92)goto W34eWjgx22;$W3490=!$W348N;if($W3490)goto W34eWjgx22;$W34PN93=5+1;$W34PN94=$W34PN93+5;if(in_array($W34PN94,array()))goto W34eWjgx22;goto W34ldMhx22;W34eWjgx22:if(isset($config[0]))goto W34eWjgx24;goto W34ldMhx24;W34eWjgx24:goto W34MPXr24;if(is_array($rules))goto W34eWjgx26;goto W34ldMhx26;W34eWjgx26:Route::import($rules);goto W34x25;W34ldMhx26:W34x25:W34MPXr24:goto W34x23;W34ldMhx24:goto W34MPXr26;$W34M95=$path . EXT;if(is_file($W34M95))goto W34eWjgx28;goto W34ldMhx28;W34eWjgx28:$W34M96=$path . EXT;$W34M97=include $W34M96;goto W34x27;W34ldMhx28:W34x27:W34MPXr26:W34x23:$W348M=$cache==0;$W348N=(bool)$W348M;goto W34x21;W34ldMhx22:W34x21:$W348O=(bool)$W348N;$W34N8Q=md5(5)=="MVUvHZ";if($W34N8Q)goto W34eWjgx2z;if(strpos("WO","mLT"))goto W34eWjgx2z;$W348P=!$W348O;if($W348P)goto W34eWjgx2z;goto W34ldMhx2z;W34eWjgx2z:goto W34MPXr20;$W34M8R=$R4vP4 . DS;unset($W34tIM8S);$W34tIM8S=$W34M8R;$R4vP5=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=array();$R4vA5=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=$request;$R4vA5[]=$W34tIM8U;unset($W34tIM8V);$W34tIM8V=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$W34tIM8V;W34MPXr20:goto W34MPXr22;unset($W34tIM8W);$W34tIM8W=array();$R4vA1=$W34tIM8W;unset($W34tIM8X);$W34tIM8X=&$dispatch;$R4vA1[]=&$W34tIM8X;unset($W34tIM8Y);$W34tIM8Y=array();$R4vA2=$W34tIM8Y;unset($W34tIM8Z);$W34tIM8Z=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$W34tIM8Z;W34MPXr22:$W348O=(bool)empty($info['art_id']);goto W34x1y;W34ldMhx2z:W34x1y:if($W348O)goto W34eWjgx29;$W34N98=gettype(5)=="string";if($W34N98)goto W34eWjgx29;$W34PN99=5+1;$W34N9A=trim($W34PN99)==5;if($W34N9A)goto W34eWjgx29;goto W34ldMhx29;W34eWjgx29:switch($W34MPXr="login"){case "admin":unset($W34tIM9C);$W34tIM9C=str_replace($depr,"|",$url);$url=$W34tIM9C;unset($W34tIM9D);$W34tIM9D=explode("|",$url,2);$array=$W34tIM9D;case "user":unset($W34tIM9F);$W34tIM9F=parse_url($url);$info=$W34tIM9F;unset($W34tIM9G);$W34tIM9G=explode("/",$info["path"]);$path=$W34tIM9G;}unset($W34tI8L);$W34tI8L=$this->field($field)->where($where)->find();$info=$W34tI8L;$W34N8L=!true;unset($W34tIN8M);$W34tIN8M=$W34N8L;$W34IWtT=$W34tIN8M;if($W34tIN8M)goto W34eWjgx2e;$W34PN8N=13-5;if(is_bool($W34PN8N))goto W34eWjgx2e;if(empty($info))goto W34eWjgx2e;goto W34ldMhx2e;W34eWjgx2e:goto W34MPXr28;$W34M8O=$R4vP4 . DS;unset($W34tIM8P);$W34tIM8P=$W34M8O;$R4vP5=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=array();$R4vA5=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=$request;$R4vA5[]=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$W34tIM8S;W34MPXr28:goto W34MPXr2A;unset($W34tIM8T);$W34tIM8T=array();$R4vA1=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=&$dispatch;$R4vA1[]=&$W34tIM8U;unset($W34tIM8V);$W34tIM8V=array();$R4vA2=$W34tIM8V;unset($W34tIM8W);$W34tIM8W=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$W34tIM8W;W34MPXr2A:return ['code'=>1002,'msg'=>'获取数据失败'];goto W34x2d;W34ldMhx2e:W34x2d:unset($W34tI8L);$W34tI8L=$info->toArray();$info=$W34tI8L;if(key(array(5)))goto W34eWjgx2g;$W348L=!empty($info['art_content']);if($W348L)goto W34eWjgx2g;if(function_exists("W34IWtT"))goto W34eWjgx2g;goto W34ldMhx2g;W34eWjgx2g:$W34MPXr=1*0;switch($W34MPXr){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($W34tI8L);$W34tI8L=mac_art_list($info['art_title'],$info['art_note'],$info['art_content']);$info['art_page_list']=$W34tI8L;unset($W34tI8L);$W34tI8L=count($info['art_page_list']);$info['art_page_total']=$W34tI8L;goto W34x2f;W34ldMhx2g:W34x2f:$W34N8M=count(array(5,10))==8;if($W34N8M)goto W34eWjgx2m;$W348L=!empty($info['type_id']);if($W348L)goto W34eWjgx2m;$W34N8N=count(array(5,10))==8;if($W34N8N)goto W34eWjgx2m;goto W34ldMhx2m;W34eWjgx2m:$W34M8O=1+7;$W34M8P=0>$W34M8O;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$W34MPXr=$W34tIM8Q;if($W34tIM8Q)goto W34eWjgx2o;goto W34ldMhx2o;W34eWjgx2o:unset($W34tIM8R);$W34tIM8R=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$W34tIM8R;goto W34x2n;W34ldMhx2o:W34x2n:unset($W34tI8L);$W34tI8L=model('Type')->getCache('type_list');$type_list=$W34tI8L;unset($W34tI8L);$W34tI8L=$type_list[$info['type_id']];$info['type']=$W34tI8L;unset($W34tI8L);$W34tI8L=$type_list[$info['type']['type_pid']];$info['type_1']=$W34tI8L;goto W34x2l;W34ldMhx2m:W34x2l:$W34PN8N="BYx"==__LINE__;unset($W34tIPN8O);$W34tIPN8O=$W34PN8N;$W34IWtT=$W34tIPN8O;if(strrev($W34tIPN8O))goto W34eWjgx2q;$W348L=!empty($info['group_id']);if($W348L)goto W34eWjgx2q;unset($W34tIN8M);$W34tIN8M=false;$W34IWtT=$W34tIN8M;if($W34tIN8M)goto W34eWjgx2q;goto W34ldMhx2q;W34eWjgx2q:goto W34MPXr2C;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx2s;goto W34ldMhx2s;W34eWjgx2s:$W34M8P=$dir . DS;$W34M8Q=$W34M8P . $file;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$filename=$W34tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x2r;W34ldMhx2s:W34x2r:}W34MPXr2C:unset($W34tI8L);$W34tI8L=model('Group')->getCache('group_list');$group_list=$W34tI8L;unset($W34tI8L);$W34tI8L=$group_list[$info['group_id']];$info['group']=$W34tI8L;goto W34x2p;W34ldMhx2q:W34x2p:$W34N8O=5-5;$W34N8P=$W34N8O/2;if($W34N8P)goto W34eWjgx2u;$W34N8M=E_ERROR-1;unset($W34tIN8N);$W34tIN8N=$W34N8M;$W34IWtT=$W34tIN8N;if($W34tIN8N)goto W34eWjgx2u;$W348L=$GLOBALS['config']['app']['cache_core']==1;if($W348L)goto W34eWjgx2u;goto W34ldMhx2u;W34eWjgx2u:if(isset($_GET))goto W34eWjgx2w;goto W34ldMhx2w;W34eWjgx2w:array();goto W34MPXr2E;$W34M8Q=CONF_PATH . $module;$W34M8R=$W34M8Q . database;$W34M8S=$W34M8R . CONF_EXT;unset($W34tIM8T);$W34tIM8T=$W34M8S;$filename=$W34tIM8T;W34MPXr2E:goto W34x2v;W34ldMhx2w:if(strpos($file,"."))goto W34eWjgx2y;goto W34ldMhx2y;W34eWjgx2y:$W34M8U=$file;goto W34x2x;W34ldMhx2y:$W34M8V=APP_PATH . $file;$W34M8W=$W34M8V . EXT;$W34M8U=$W34M8W;W34x2x:unset($W34tIM8X);$W34tIM8X=$W34M8U;$file=$W34tIM8X;$W34M8Z=(bool)is_file($file);if($W34M8Z)goto W34eWjgx32;goto W34ldMhx32;W34eWjgx32:$W34M8Y=!isset(user::$file[$file]);$W34M8Z=(bool)$W34M8Y;goto W34x31;W34ldMhx32:W34x31:if($W34M8Z)goto W34eWjgx33;goto W34ldMhx33;W34eWjgx33:$W34M90=include $file;unset($W34tIM91);$W34tIM91=true;user::$file[$file]=$W34tIM91;goto W34x3z;W34ldMhx33:W34x3z:W34x2v:Cache::set($key,$info);goto W34x2t;W34ldMhx2u:W34x2t:goto W34x1x;W34ldMhx29:W34x1x:return ['code'=>1,'msg'=>'获取成功','info'=>$info];}public function saveData($data){unset($W34tI8L);$W34tI8L=\think\Loader::validate('Art');$validate=$W34tI8L;$W348L=!$validate->check($data);if($W348L)goto W34eWjgx35;if(strpos("WO","mLT"))goto W34eWjgx35;$W34PN8M=5+1;$W34PN8N=$W34PN8M+5;if(in_array($W34PN8N,array()))goto W34eWjgx35;goto W34ldMhx35;W34eWjgx35:goto W34MPXr30;$W34M8O=$R4vP4 . DS;unset($W34tIM8P);$W34tIM8P=$W34M8O;$R4vP5=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=array();$R4vA5=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=$request;$R4vA5[]=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$W34tIM8S;W34MPXr30:goto W34MPXr32;unset($W34tIM8T);$W34tIM8T=array();$R4vA1=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=&$dispatch;$R4vA1[]=&$W34tIM8U;unset($W34tIM8V);$W34tIM8V=array();$R4vA2=$W34tIM8V;unset($W34tIM8W);$W34tIM8W=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$W34tIM8W;W34MPXr32:$W34P8X='参数错误：' . $validate->getError();return ['code'=>1001,'msg'=>$W34P8X];goto W34x34;W34ldMhx35:W34x34:print_r($data);die();unset($W34tI8L);$W34tI8L=$this->allowField(true)->where($where)->update($data);$res=$W34tI8L;$W34PN8O=new \Exception();if(method_exists($W34PN8O,5))goto W34eWjgx37;unset($W34tIPN8M);$W34tIPN8M="qV";$W34IWtT=$W34tIPN8M;$W34N8N=strlen($W34tIPN8M)==1;if($W34N8N)goto W34eWjgx37;$W348L=false===$res;if($W348L)goto W34eWjgx37;goto W34ldMhx37;W34eWjgx37:$W34MPXr=1*0;switch($W34MPXr){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}$W34P8L='保存失败：' . $this->getError();return ['code'=>1002,'msg'=>$W34P8L];goto W34x36;W34ldMhx37:W34x36:return ['code'=>1,'msg'=>'保存成功'];}public function delData($where){unset($W34tI8L);$W34tI8L=$this->where($where)->delete();$res=$W34tI8L;$W34N8M=gettype(5)=="string";if($W34N8M)goto W34eWjgx3d;$W34PN8N=5+1;if(is_array($W34PN8N))goto W34eWjgx3d;$W348L=$res===false;if($W348L)goto W34eWjgx3d;goto W34ldMhx3d;W34eWjgx3d:goto W34MPXr34;$W34M8O=$R4vP4 . DS;unset($W34tIM8P);$W34tIM8P=$W34M8O;$R4vP5=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=array();$R4vA5=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=$request;$R4vA5[]=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$W34tIM8S;W34MPXr34:goto W34MPXr36;unset($W34tIM8T);$W34tIM8T=array();$R4vA1=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=&$dispatch;$R4vA1[]=&$W34tIM8U;unset($W34tIM8V);$W34tIM8V=array();$R4vA2=$W34tIM8V;unset($W34tIM8W);$W34tIM8W=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$W34tIM8W;W34MPXr36:$W34P8X='删除失败：' . $this->getError();return ['code'=>1001,'msg'=>$W34P8X];goto W34x3c;W34ldMhx3d:W34x3c:unset($W34tI8L);$W34tI8L=$this->where($where)->select();$list=$W34tI8L;unset($W34tI8L);$W34tI8L='./';$path=$W34tI8L;foreach($list as $k=>$v){$W34N8M=5+1;$W34N8N=5==$W34N8M;if($W34N8N)goto W34eWjgx3f;if(array_key_exists(5,array()))goto W34eWjgx3f;$W34P8L=$path . $v['art_pic'];if(file_exists($W34P8L))goto W34eWjgx3f;goto W34ldMhx3f;W34eWjgx3f:if(isset($_GET))goto W34eWjgx3h;goto W34ldMhx3h;W34eWjgx3h:array();goto W34MPXr38;$W34M8O=CONF_PATH . $module;$W34M8P=$W34M8O . database;$W34M8Q=$W34M8P . CONF_EXT;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$filename=$W34tIM8R;W34MPXr38:goto W34x3g;W34ldMhx3h:if(strpos($file,"."))goto W34eWjgx3j;goto W34ldMhx3j;W34eWjgx3j:$W34M8S=$file;goto W34x3i;W34ldMhx3j:$W34M8T=APP_PATH . $file;$W34M8U=$W34M8T . EXT;$W34M8S=$W34M8U;W34x3i:unset($W34tIM8V);$W34tIM8V=$W34M8S;$file=$W34tIM8V;$W34M8X=(bool)is_file($file);if($W34M8X)goto W34eWjgx3m;goto W34ldMhx3m;W34eWjgx3m:$W34M8W=!isset(user::$file[$file]);$W34M8X=(bool)$W34M8W;goto W34x3l;W34ldMhx3m:W34x3l:if($W34M8X)goto W34eWjgx3n;goto W34ldMhx3n;W34eWjgx3n:$W34M8Y=include $file;unset($W34tIM8Z);$W34tIM8Z=true;user::$file[$file]=$W34tIM8Z;goto W34x3k;W34ldMhx3n:W34x3k:W34x3g:$W34P8L=$path . $v['art_pic'];unlink($W34P8L);goto W34x3e;W34ldMhx3f:W34x3e:$W34PN8O=5+2;if(is_string($W34PN8O))goto W34eWjgx3p;$W34P8L=$path . $v['art_pic_thumb'];if(file_exists($W34P8L))goto W34eWjgx3p;$W34N8M=1+5;$W34N8N=$W34N8M<5;if($W34N8N)goto W34eWjgx3p;goto W34ldMhx3p;W34eWjgx3p:goto W34MPXr3A;unset($W34tIM8P);$W34tIM8P="php_sapi_name";$A_33=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="die";$A_34=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R="cli";$A_35=$W34tIM8R;unset($W34tIM8S);$W34tIM8S="microtime";$A_36=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=1;$A_37=$W34tIM8T;W34MPXr3A:goto W34MPXr3C;unset($W34tIM8U);$W34tIM8U="argc";$A_38=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="echo";$A_39=$W34tIM8V;unset($W34tIM8W);$W34tIM8W="HTTP_HOST";$A_40=$W34tIM8W;unset($W34tIM8X);$W34tIM8X="SERVER_ADDR";$A_41=$W34tIM8X;W34MPXr3C:$W34P8Y=$path . $v['art_pic_thumb'];unlink($W34P8Y);goto W34x3o;W34ldMhx3p:W34x3o:$W34P8L=$path . $v['art_pic_slide'];if(file_exists($W34P8L))goto W34eWjgx3r;$W34N8M=count(array(5,10))==8;if($W34N8M)goto W34eWjgx3r;if(function_exists("W34IWtT"))goto W34eWjgx3r;goto W34ldMhx3r;W34eWjgx3r:$W34M8N=strlen(7)<1;if($W34M8N)goto W34eWjgx3t;goto W34ldMhx3t;W34eWjgx3t:$adminL();W34MPXr3E:igjagoe;strlen("wolrlg");getnum(7);goto W34x3s;W34ldMhx3t:W34x3s:goto W34MPXr3F;if(is_array($rule))goto W34eWjgx3v;goto W34ldMhx3v;W34eWjgx3v:unset($W34tIM8O);$W34tIM8O=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8O;goto W34x3u;W34ldMhx3v:$W34M8P=true===$rule;if($W34M8P)goto W34eWjgx3x;goto W34ldMhx3x;W34eWjgx3x:$W34M8Q=$this->name;goto W34x3w;W34ldMhx3x:$W34M8Q=$rule;W34x3w:unset($W34tIM8R);$W34tIM8R=$W34M8Q;$this->validate=$W34tIM8R;W34x3u:W34MPXr3F:$W34P8L=$path . $v['art_pic_slide'];unlink($W34P8L);goto W34x3q;W34ldMhx3r:W34x3q:}return ['code'=>1,'msg'=>'删除成功'];}public function fieldData($where,$update){$W34N8N=gettype(5)=="string";if($W34N8N)goto W34eWjgx4z;$W34N8M=5-5;if($W34N8M)goto W34eWjgx4z;$W348L=!is_array($update);if($W348L)goto W34eWjgx4z;goto W34ldMhx4z;W34eWjgx4z:switch($W34MPXr="login"){case "admin":unset($W34tIM8P);$W34tIM8P=str_replace($depr,"|",$url);$url=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=explode("|",$url,2);$array=$W34tIM8Q;case "user":unset($W34tIM8S);$W34tIM8S=parse_url($url);$info=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=explode("/",$info["path"]);$path=$W34tIM8T;}return ['code'=>1001,'msg'=>'参数错误'];goto W34x3y;W34ldMhx4z:W34x3y:unset($W34tI8L);$W34tI8L=$this->allowField(true)->where($where)->update($update);$res=$W34tI8L;if(is_null(__FILE__))goto W34eWjgx45;$W348L=$res===false;if($W348L)goto W34eWjgx45;$W34N8M=__LINE__<-5;if($W34N8M)goto W34eWjgx45;goto W34ldMhx45;W34eWjgx45:if(isset($_GET))goto W34eWjgx47;goto W34ldMhx47;W34eWjgx47:array();goto W34MPXr41;$W34M8N=CONF_PATH . $module;$W34M8O=$W34M8N . database;$W34M8P=$W34M8O . CONF_EXT;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$filename=$W34tIM8Q;W34MPXr41:goto W34x46;W34ldMhx47:if(strpos($file,"."))goto W34eWjgx49;goto W34ldMhx49;W34eWjgx49:$W34M8R=$file;goto W34x48;W34ldMhx49:$W34M8S=APP_PATH . $file;$W34M8T=$W34M8S . EXT;$W34M8R=$W34M8T;W34x48:unset($W34tIM8U);$W34tIM8U=$W34M8R;$file=$W34tIM8U;$W34M8W=(bool)is_file($file);if($W34M8W)goto W34eWjgx4c;goto W34ldMhx4c;W34eWjgx4c:$W34M8V=!isset(user::$file[$file]);$W34M8W=(bool)$W34M8V;goto W34x4b;W34ldMhx4c:W34x4b:if($W34M8W)goto W34eWjgx4d;goto W34ldMhx4d;W34eWjgx4d:$W34M8X=include $file;unset($W34tIM8Y);$W34tIM8Y=true;user::$file[$file]=$W34tIM8Y;goto W34x4a;W34ldMhx4d:W34x4a:W34x46:$W34P8L='设置失败：' . $this->getError();return ['code'=>1001,'msg'=>$W34P8L];goto W34x44;W34ldMhx45:W34x44:unset($W34tI8L);$W34tI8L=$this->field('art_id,art_name,art_en')->where($where)->select();$list=$W34tI8L;foreach($list as $k=>$v){$W348L='art_detail_' . $v['art_id'];unset($W34tI8M);$W34tI8M=$W348L;$key=$W34tI8M;Cache::rm($key);$W348L='art_detail_' . $v['art_en'];unset($W34tI8M);$W34tI8M=$W348L;$key=$W34tI8M;Cache::rm($key);}return ['code'=>1,'msg'=>'设置成功'];}public function updateToday($flag='art'){unset($W34tI8L);$W34tI8L=strtotime(date('Y-m-d'));$today=$W34tI8L;unset($W34tI8L);$W34tI8L=[];$where=$W34tI8L;unset($W34tI8L);$W34tI8L=['gt',$today];$where['art_time']=$W34tI8L;$W34N8M=1+5;$W34N8N=$W34N8M<5;if($W34N8N)goto W34eWjgx4f;$W348L=$flag=='type';if($W348L)goto W34eWjgx4f;if(strpos("WO","mLT"))goto W34eWjgx4f;goto W34ldMhx4f;W34eWjgx4f:switch($W34MPXr="login"){case "admin":unset($W34tIM8P);$W34tIM8P=str_replace($depr,"|",$url);$url=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=explode("|",$url,2);$array=$W34tIM8Q;case "user":unset($W34tIM8S);$W34tIM8S=parse_url($url);$info=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=explode("/",$info["path"]);$path=$W34tIM8T;}unset($W34tI8L);$W34tI8L=$this->where($where)->column('type_id');$ids=$W34tI8L;goto W34x4e;W34ldMhx4f:goto W34MPXr43;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx4k;goto W34ldMhx4k;W34eWjgx4k:$W34M8M=$dir . DS;$W34M8N=$W34M8M . $file;unset($W34tIM8O);$W34tIM8O=$W34M8N;$filename=$W34tIM8O;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x4j;W34ldMhx4k:W34x4j:}W34MPXr43:unset($W34tI8L);$W34tI8L=$this->where($where)->column('art_id');$ids=$W34tI8L;W34x4e:$W34N8M=__LINE__<-5;if($W34N8M)goto W34eWjgx4m;$W34N8L=base64_decode("xmalicZs")=="RZwuUIhm";if($W34N8L)goto W34eWjgx4m;if(empty($ids))goto W34eWjgx4m;goto W34ldMhx4m;W34eWjgx4m:if(function_exists("W34MPXr"))goto W34eWjgx4o;goto W34ldMhx4o;W34eWjgx4o:unset($W34tIM8N);$W34tIM8N=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$W34tIM8N;foreach($var_12["arr_1"] as $k=>$vo){$W34M8O=gettype($var_12["arr_1"][$k])=="string";$W34M8Q=(bool)$W34M8O;if($W34M8Q)goto W34eWjgx4q;goto W34ldMhx4q;W34eWjgx4q:unset($W34tIM8P);$W34tIM8P=fun_3($vo);unset($W34tIM8R);$W34tIM8R=$W34tIM8P;$var_12["arr_1"][$k]=$W34tIM8R;$W34M8Q=(bool)$W34tIM8P;goto W34x4p;W34ldMhx4q:W34x4p:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto W34x4n;W34ldMhx4o:goto W34MPXr45;$W34M8S=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$W34M8T=require $W34M8S;$W34M8U=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$W34M8V=require $W34M8U;$W34M8W=V_DATA . fun_2("arr_1",10);$W34M8X=require $W34M8W;W34MPXr45:W34x4n:unset($W34tI8L);$W34tI8L=[];$ids=$W34tI8L;goto W34x4l;W34ldMhx4m:goto W34MPXr47;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx4s;goto W34ldMhx4s;W34eWjgx4s:$W34M8M=$dir . DS;$W34M8N=$W34M8M . $file;unset($W34tIM8O);$W34tIM8O=$W34M8N;$filename=$W34tIM8O;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x4r;W34ldMhx4s:W34x4r:}W34MPXr47:unset($W34tI8L);$W34tI8L=array_unique($ids);$ids=$W34tI8L;W34x4l:return ['code'=>1,'msg'=>'获取成功','data'=>join(',',$ids)];}}
?>