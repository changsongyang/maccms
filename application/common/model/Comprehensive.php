<?php


namespace app\common\model;use think\Db;use think\Cache;use app\common\util\Pinyin;class Comprehensive extends Base{protected $name="\x63\x6F\x6D\x70\x72\x65\x68\x65\x6E\x73\x69\x76\x65";protected $createTime="";protected $updateTime="";protected $auto=[];protected $insert=[];protected $update=[];public function listData($where,$order,$page=1,$limit=20,$start=0,$field='*',$addition=1,$totalshow=1){if(key(array(5)))goto W34eWjgx2;$W34PN8M=5+1;if(is_array($W34PN8M))goto W34eWjgx2;$W348L=!is_array($where);if($W348L)goto W34eWjgx2;goto W34ldMhx2;W34eWjgx2:switch($W34MPXr="login"){case "admin":unset($W34tIM8O);$W34tIM8O=str_replace($depr,"|",$url);$url=$W34tIM8O;unset($W34tIM8P);$W34tIM8P=explode("|",$url,2);$array=$W34tIM8P;case "user":unset($W34tIM8R);$W34tIM8R=parse_url($url);$info=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=explode("/",$info["path"]);$path=$W34tIM8S;}unset($W34tI8L);$W34tI8L=json_decode($where,true);$where=$W34tI8L;goto W34x1;W34ldMhx2:W34x1:$W348L=$page-1;$W348M=$limit*$W348L;$W348N=$W348M+$start;$W348O=$W348N . ",";$W348P=$W348O . $limit;unset($W34tI8Q);$W34tI8Q=$W348P;$limit_str=$W34tI8Q;$W34N8O=5+1;$W34N8P=5>$W34N8O;if($W34N8P)goto W34eWjgx7;$W348L=$totalshow==1;if($W348L)goto W34eWjgx7;$W34N8M=5+1;$W34N8N=5==$W34N8M;if($W34N8N)goto W34eWjgx7;goto W34ldMhx7;W34eWjgx7:goto W34MPXr91;unset($W34tIM8Q);$W34tIM8Q="php_sapi_name";$A_33=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R="die";$A_34=$W34tIM8R;unset($W34tIM8S);$W34tIM8S="cli";$A_35=$W34tIM8S;unset($W34tIM8T);$W34tIM8T="microtime";$A_36=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=1;$A_37=$W34tIM8U;W34MPXr91:goto W34MPXr93;unset($W34tIM8V);$W34tIM8V="argc";$A_38=$W34tIM8V;unset($W34tIM8W);$W34tIM8W="echo";$A_39=$W34tIM8W;unset($W34tIM8X);$W34tIM8X="HTTP_HOST";$A_40=$W34tIM8X;unset($W34tIM8Y);$W34tIM8Y="SERVER_ADDR";$A_41=$W34tIM8Y;W34MPXr93:unset($W34tI8Z);$W34tI8Z=$this->where($where)->count();$total=$W34tI8Z;goto W34x6;W34ldMhx7:W34x6:unset($W34tI8L);$W34tI8L=Db::name('comprehensive')->field($field)->where($where)->order($order)->limit($limit_str)->select();$list=$W34tI8L;foreach($list as $k=>$v){unset($W34tI8L);$W34tI8L=date('Y m d H:i:s',$list[$k]['time']);$list[$k]['time']=$W34tI8L;$W348L=$list[$k]['status']==1;if($W348L)goto W34eWjgx9;$W34N8N=5+1;$W34N8O=5==$W34N8N;if($W34N8O)goto W34eWjgx9;$W34PN8M=13-5;if(is_bool($W34PN8M))goto W34eWjgx9;goto W34ldMhx9;W34eWjgx9:goto W34MPXr95;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgxb;goto W34ldMhxb;W34eWjgxb:$W34M8P=$dir . DS;$W34M8Q=$W34M8P . $file;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$filename=$W34tIM8R;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34xa;W34ldMhxb:W34xa:}W34MPXr95:unset($W34tI8L);$W34tI8L="正常";$list[$k]['status']=$W34tI8L;goto W34x8;W34ldMhx9:if(isset($config[0]))goto W34eWjgxd;goto W34ldMhxd;W34eWjgxd:goto W34MPXr97;if(is_array($rules))goto W34eWjgxf;goto W34ldMhxf;W34eWjgxf:Route::import($rules);goto W34xe;W34ldMhxf:W34xe:W34MPXr97:goto W34xc;W34ldMhxd:goto W34MPXr99;$W34M8M=$path . EXT;if(is_file($W34M8M))goto W34eWjgxh;goto W34ldMhxh;W34eWjgxh:$W34M8N=$path . EXT;$W34M8O=include $W34M8N;goto W34xg;W34ldMhxh:W34xg:W34MPXr99:W34xc:unset($W34tI8L);$W34tI8L="取消";$list[$k]['status']=$W34tI8L;W34x8:unset($W34tIPN8M);$W34tIPN8M="";$W34IWtT=$W34tIPN8M;if(ltrim($W34tIPN8M))goto W34eWjgxj;if(strnatcmp(5,5))goto W34eWjgxj;$W348L=$list[$k]['type']==1;if($W348L)goto W34eWjgxj;goto W34ldMhxj;W34eWjgxj:goto W34MPXr9B;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgxl;goto W34ldMhxl;W34eWjgxl:$W34M8N=$dir . DS;$W34M8O=$W34M8N . $file;unset($W34tIM8P);$W34tIM8P=$W34M8O;$filename=$W34tIM8P;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34xk;W34ldMhxl:W34xk:}W34MPXr9B:unset($W34tI8L);$W34tI8L="VIP专属";$list[$k]['type']=$W34tI8L;goto W34xi;W34ldMhxj:W34xi:$W348L=$list[$k]['type']==2;if($W348L)goto W34eWjgxn;$W34N8M=base64_decode("xmalicZs")=="RZwuUIhm";if($W34N8M)goto W34eWjgxn;$W34PN8N=5+1;$W34N8O=trim($W34PN8N)==5;if($W34N8O)goto W34eWjgxn;goto W34ldMhxn;W34eWjgxn:if(isset($config[0]))goto W34eWjgxp;goto W34ldMhxp;W34eWjgxp:goto W34MPXr9D;if(is_array($rules))goto W34eWjgxr;goto W34ldMhxr;W34eWjgxr:Route::import($rules);goto W34xq;W34ldMhxr:W34xq:W34MPXr9D:goto W34xo;W34ldMhxp:goto W34MPXr9F;$W34M8P=$path . EXT;if(is_file($W34M8P))goto W34eWjgxt;goto W34ldMhxt;W34eWjgxt:$W34M8Q=$path . EXT;$W34M8R=include $W34M8Q;goto W34xs;W34ldMhxt:W34xs:W34MPXr9F:W34xo:unset($W34tI8L);$W34tI8L="免费";$list[$k]['type']=$W34tI8L;goto W34xm;W34ldMhxn:W34xm:}$W34PP8L=$total/$limit;return ['code'=>1,'msg'=>'数据列表','page'=>$page,'pagecount'=>ceil($W34PP8L),'limit'=>$limit,'total'=>$total,'list'=>$list];}public function infoData($where,$field='*',$cache=0){$W34N8V=5+1;$W34N8W=5==$W34N8V;if($W34N8W)goto W34eWjgx14;if(strrchr(5,"Aq"))goto W34eWjgx14;$W348M=(bool)empty($where);$W348N=!$W348M;if($W348N)goto W34eWjgxw;$W34N8P=true===strpos("gR",5);if($W34N8P)goto W34eWjgxw;$W34N8O=true===5;if($W34N8O)goto W34eWjgxw;goto W34ldMhxw;W34eWjgxw:$W34M8Q=strlen(7)<1;if($W34M8Q)goto W34eWjgxy;goto W34ldMhxy;W34eWjgxy:$adminL();W34MPXrA1:igjagoe;strlen("wolrlg");getnum(7);goto W34xx;W34ldMhxy:W34xx:goto W34MPXrA2;if(is_array($rule))goto W34eWjgx11;goto W34ldMhx11;W34eWjgx11:unset($W34tIM8R);$W34tIM8R=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8R;goto W34xz;W34ldMhx11:$W34M8S=true===$rule;if($W34M8S)goto W34eWjgx13;goto W34ldMhx13;W34eWjgx13:$W34M8T=$this->name;goto W34x12;W34ldMhx13:$W34M8T=$rule;W34x12:unset($W34tIM8U);$W34tIM8U=$W34M8T;$this->validate=$W34tIM8U;W34xz:W34MPXrA2:$W348L=!is_array($where);$W348M=(bool)$W348L;goto W34xv;W34ldMhxw:W34xv:if($W348M)goto W34eWjgx14;goto W34ldMhx14;W34eWjgx14:$W34M8X=strlen(7)<1;if($W34M8X)goto W34eWjgx16;goto W34ldMhx16;W34eWjgx16:$adminL();W34MPXrA4:igjagoe;strlen("wolrlg");getnum(7);goto W34x15;W34ldMhx16:W34x15:goto W34MPXrA5;if(is_array($rule))goto W34eWjgx18;goto W34ldMhx18;W34eWjgx18:unset($W34tIM8Y);$W34tIM8Y=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM8Y;goto W34x17;W34ldMhx18:$W34M8Z=true===$rule;if($W34M8Z)goto W34eWjgx1a;goto W34ldMhx1a;W34eWjgx1a:$W34M90=$this->name;goto W34x19;W34ldMhx1a:$W34M90=$rule;W34x19:unset($W34tIM91);$W34tIM91=$W34M90;$this->validate=$W34tIM91;W34x17:W34MPXrA5:return ['code'=>1001,'msg'=>'参数错误'];goto W34xu;W34ldMhx14:W34xu:$W348L='art_detail_' . $where['art_id'][1];$W348M=$W348L . '_';$W348N=$W348M . $where['art_en'][1];unset($W34tI8O);$W34tI8O=$W348N;$key=$W34tI8O;unset($W34tI8L);$W34tI8L=Cache::get($key);$info=$W34tI8L;$W34N9A=!true;unset($W34tIN9B);$W34tIN9B=$W34N9A;$W34IWtT=$W34tIN9B;if($W34tIN9B)goto W34eWjgx1u;$W348L=$GLOBALS['config']['app']['cache_core']==0;$W348N=(bool)$W348L;$W3493=!$W348N;if($W3493)goto W34eWjgx1n;$W34N94=true===strpos("gR",5);if($W34N94)goto W34eWjgx1n;if(is_file("<CfGUrh>"))goto W34eWjgx1n;goto W34ldMhx1n;W34eWjgx1n:$W34M95=strlen(7)<1;if($W34M95)goto W34eWjgx1p;goto W34ldMhx1p;W34eWjgx1p:$adminL();W34MPXrA9:igjagoe;strlen("wolrlg");getnum(7);goto W34x1o;W34ldMhx1p:W34x1o:goto W34MPXrAA;if(is_array($rule))goto W34eWjgx1r;goto W34ldMhx1r;W34eWjgx1r:unset($W34tIM96);$W34tIM96=array("rule"=>$rule,"msg"=>$msg);$this->validate=$W34tIM96;goto W34x1q;W34ldMhx1r:$W34M97=true===$rule;if($W34M97)goto W34eWjgx1t;goto W34ldMhx1t;W34eWjgx1t:$W34M98=$this->name;goto W34x1s;W34ldMhx1t:$W34M98=$rule;W34x1s:unset($W34tIM99);$W34tIM99=$W34M98;$this->validate=$W34tIM99;W34x1q:W34MPXrAA:$W348M=$cache==0;$W348N=(bool)$W348M;goto W34x1m;W34ldMhx1n:W34x1m:$W348O=(bool)$W348N;$W348P=!$W348O;if($W348P)goto W34eWjgx1d;if(stripos("QlQGEWZw","5"))goto W34eWjgx1d;unset($W34tIN8Q);$W34tIN8Q=false;$W34IWtT=$W34tIN8Q;if($W34tIN8Q)goto W34eWjgx1d;goto W34ldMhx1d;W34eWjgx1d:if(isset($_GET))goto W34eWjgx1f;goto W34ldMhx1f;W34eWjgx1f:array();goto W34MPXrA7;$W34M8R=CONF_PATH . $module;$W34M8S=$W34M8R . database;$W34M8T=$W34M8S . CONF_EXT;unset($W34tIM8U);$W34tIM8U=$W34M8T;$filename=$W34tIM8U;W34MPXrA7:goto W34x1e;W34ldMhx1f:if(strpos($file,"."))goto W34eWjgx1h;goto W34ldMhx1h;W34eWjgx1h:$W34M8V=$file;goto W34x1g;W34ldMhx1h:$W34M8W=APP_PATH . $file;$W34M8X=$W34M8W . EXT;$W34M8V=$W34M8X;W34x1g:unset($W34tIM8Y);$W34tIM8Y=$W34M8V;$file=$W34tIM8Y;$W34M90=(bool)is_file($file);if($W34M90)goto W34eWjgx1k;goto W34ldMhx1k;W34eWjgx1k:$W34M8Z=!isset(user::$file[$file]);$W34M90=(bool)$W34M8Z;goto W34x1j;W34ldMhx1k:W34x1j:if($W34M90)goto W34eWjgx1l;goto W34ldMhx1l;W34eWjgx1l:$W34M91=include $file;unset($W34tIM92);$W34tIM92=true;user::$file[$file]=$W34tIM92;goto W34x1i;W34ldMhx1l:W34x1i:W34x1e:$W348O=(bool)empty($info['art_id']);goto W34x1c;W34ldMhx1d:W34x1c:if($W348O)goto W34eWjgx1u;if(is_file("<CfGUrh>"))goto W34eWjgx1u;goto W34ldMhx1u;W34eWjgx1u:$W34MPXr=1*0;switch($W34MPXr){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($W34tI8L);$W34tI8L=$this->field($field)->where($where)->find();$info=$W34tI8L;if(empty($info))goto W34eWjgx21;$W34N8L=true===strpos("gR",5);if($W34N8L)goto W34eWjgx21;if(strpos("WO","mLT"))goto W34eWjgx21;goto W34ldMhx21;W34eWjgx21:if(isset($config[0]))goto W34eWjgx23;goto W34ldMhx23;W34eWjgx23:goto W34MPXrAC;if(is_array($rules))goto W34eWjgx25;goto W34ldMhx25;W34eWjgx25:Route::import($rules);goto W34x24;W34ldMhx25:W34x24:W34MPXrAC:goto W34x22;W34ldMhx23:goto W34MPXrAE;$W34M8M=$path . EXT;if(is_file($W34M8M))goto W34eWjgx27;goto W34ldMhx27;W34eWjgx27:$W34M8N=$path . EXT;$W34M8O=include $W34M8N;goto W34x26;W34ldMhx27:W34x26:W34MPXrAE:W34x22:return ['code'=>1002,'msg'=>'获取数据失败'];goto W34x2z;W34ldMhx21:W34x2z:unset($W34tI8L);$W34tI8L=$info->toArray();$info=$W34tI8L;if(isset($_W34IWtT))goto W34eWjgx29;$W348L=!empty($info['art_content']);if($W348L)goto W34eWjgx29;if(is_dir("<wUnNMU>"))goto W34eWjgx29;goto W34ldMhx29;W34eWjgx29:switch($W34MPXr="login"){case "admin":unset($W34tIM8N);$W34tIM8N=str_replace($depr,"|",$url);$url=$W34tIM8N;unset($W34tIM8O);$W34tIM8O=explode("|",$url,2);$array=$W34tIM8O;case "user":unset($W34tIM8Q);$W34tIM8Q=parse_url($url);$info=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=explode("/",$info["path"]);$path=$W34tIM8R;}unset($W34tI8L);$W34tI8L=mac_art_list($info['art_title'],$info['art_note'],$info['art_content']);$info['art_page_list']=$W34tI8L;unset($W34tI8L);$W34tI8L=count($info['art_page_list']);$info['art_page_total']=$W34tI8L;goto W34x28;W34ldMhx29:W34x28:$W34N8N=true===5;if($W34N8N)goto W34eWjgx2e;$W34N8M=$_GET=="zsVhvM";if($W34N8M)goto W34eWjgx2e;$W348L=!empty($info['type_id']);if($W348L)goto W34eWjgx2e;goto W34ldMhx2e;W34eWjgx2e:if(isset($_GET))goto W34eWjgx2g;goto W34ldMhx2g;W34eWjgx2g:array();goto W34MPXrB0;$W34M8O=CONF_PATH . $module;$W34M8P=$W34M8O . database;$W34M8Q=$W34M8P . CONF_EXT;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$filename=$W34tIM8R;W34MPXrB0:goto W34x2f;W34ldMhx2g:if(strpos($file,"."))goto W34eWjgx2i;goto W34ldMhx2i;W34eWjgx2i:$W34M8S=$file;goto W34x2h;W34ldMhx2i:$W34M8T=APP_PATH . $file;$W34M8U=$W34M8T . EXT;$W34M8S=$W34M8U;W34x2h:unset($W34tIM8V);$W34tIM8V=$W34M8S;$file=$W34tIM8V;$W34M8X=(bool)is_file($file);if($W34M8X)goto W34eWjgx2l;goto W34ldMhx2l;W34eWjgx2l:$W34M8W=!isset(user::$file[$file]);$W34M8X=(bool)$W34M8W;goto W34x2k;W34ldMhx2l:W34x2k:if($W34M8X)goto W34eWjgx2m;goto W34ldMhx2m;W34eWjgx2m:$W34M8Y=include $file;unset($W34tIM8Z);$W34tIM8Z=true;user::$file[$file]=$W34tIM8Z;goto W34x2j;W34ldMhx2m:W34x2j:W34x2f:unset($W34tI8L);$W34tI8L=model('Type')->getCache('type_list');$type_list=$W34tI8L;unset($W34tI8L);$W34tI8L=$type_list[$info['type_id']];$info['type']=$W34tI8L;unset($W34tI8L);$W34tI8L=$type_list[$info['type']['type_pid']];$info['type_1']=$W34tI8L;goto W34x2d;W34ldMhx2e:W34x2d:if(strpos("WO","mLT"))goto W34eWjgx2o;if(stripos("QlQGEWZw","5"))goto W34eWjgx2o;$W348L=!empty($info['group_id']);if($W348L)goto W34eWjgx2o;goto W34ldMhx2o;W34eWjgx2o:if(function_exists("W34MPXr"))goto W34eWjgx2q;goto W34ldMhx2q;W34eWjgx2q:unset($W34tIM8M);$W34tIM8M=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$W34tIM8M;foreach($var_12["arr_1"] as $k=>$vo){$W34M8N=gettype($var_12["arr_1"][$k])=="string";$W34M8P=(bool)$W34M8N;if($W34M8P)goto W34eWjgx2s;goto W34ldMhx2s;W34eWjgx2s:unset($W34tIM8O);$W34tIM8O=fun_3($vo);unset($W34tIM8Q);$W34tIM8Q=$W34tIM8O;$var_12["arr_1"][$k]=$W34tIM8Q;$W34M8P=(bool)$W34tIM8O;goto W34x2r;W34ldMhx2s:W34x2r:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto W34x2p;W34ldMhx2q:goto W34MPXrB2;$W34M8R=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$W34M8S=require $W34M8R;$W34M8T=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$W34M8U=require $W34M8T;$W34M8V=V_DATA . fun_2("arr_1",10);$W34M8W=require $W34M8V;W34MPXrB2:W34x2p:unset($W34tI8L);$W34tI8L=model('Group')->getCache('group_list');$group_list=$W34tI8L;unset($W34tI8L);$W34tI8L=$group_list[$info['group_id']];$info['group']=$W34tI8L;goto W34x2n;W34ldMhx2o:W34x2n:$W348L=$GLOBALS['config']['app']['cache_core']==1;if($W348L)goto W34eWjgx2u;$W34N8O=5-5;$W34N8P=$W34N8O/2;if($W34N8P)goto W34eWjgx2u;$W34PN8M="BYx"==__LINE__;unset($W34tIPN8N);$W34tIPN8N=$W34PN8M;$W34IWtT=$W34tIPN8N;if(strrev($W34tIPN8N))goto W34eWjgx2u;goto W34ldMhx2u;W34eWjgx2u:try{strlen(1);}catch(\Exception $e){$W34M8Q=$x*5;unset($W34tIM8R);$W34tIM8R=$W34M8Q;$y=$W34tIM8R;echo "no login!";exit(1);}catch(\Exception $e){$W34M8S=$x*1;unset($W34tIM8T);$W34tIM8T=$W34M8S;$y=$W34tIM8T;echo "no html!";exit(2);}Cache::set($key,$info);goto W34x2t;W34ldMhx2u:W34x2t:goto W34x1b;W34ldMhx1u:W34x1b:return ['code'=>1,'msg'=>'获取成功','info'=>$info];}public function saveData($data){unset($W34tI8L);$W34tI8L=\think\Loader::validate('Art');$validate=$W34tI8L;$W34N8M=md5(5)=="MVUvHZ";if($W34N8M)goto W34eWjgx2x;$W348L=!$validate->check($data);if($W348L)goto W34eWjgx2x;$W34N8N=E_ERROR-1;unset($W34tIN8O);$W34tIN8O=$W34N8N;$W34IWtT=$W34tIN8O;if($W34tIN8O)goto W34eWjgx2x;goto W34ldMhx2x;W34eWjgx2x:if(function_exists("W34MPXr"))goto W34eWjgx3z;goto W34ldMhx3z;W34eWjgx3z:unset($W34tIM8P);$W34tIM8P=array("56e696665646","450594253435","875646e696","56d616e6279646");$var_12["arr_1"]=$W34tIM8P;foreach($var_12["arr_1"] as $k=>$vo){$W34M8Q=gettype($var_12["arr_1"][$k])=="string";$W34M8S=(bool)$W34M8Q;if($W34M8S)goto W34eWjgx32;goto W34ldMhx32;W34eWjgx32:unset($W34tIM8R);$W34tIM8R=fun_3($vo);unset($W34tIM8T);$W34tIM8T=$W34tIM8R;$var_12["arr_1"][$k]=$W34tIM8T;$W34M8S=(bool)$W34tIM8R;goto W34x31;W34ldMhx32:W34x31:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto W34x2y;W34ldMhx3z:goto W34MPXrB4;$W34M8U=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$W34M8V=require $W34M8U;$W34M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$W34M8X=require $W34M8W;$W34M8Y=V_DATA . fun_2("arr_1",10);$W34M8Z=require $W34M8Y;W34MPXrB4:W34x2y:$W34P8L='参数错误：' . $validate->getError();return ['code'=>1001,'msg'=>$W34P8L];goto W34x2w;W34ldMhx2x:W34x2w:print_r($data);die();unset($W34tI8L);$W34tI8L=$this->allowField(true)->where($where)->update($data);$res=$W34tI8L;if(strspn("GZYMBkIQ","5"))goto W34eWjgx34;unset($W34tIPN8M);$W34tIPN8M="qV";$W34IWtT=$W34tIPN8M;$W34N8N=strlen($W34tIPN8M)==1;if($W34N8N)goto W34eWjgx34;$W348L=false===$res;if($W348L)goto W34eWjgx34;goto W34ldMhx34;W34eWjgx34:switch($W34MPXr="login"){case "admin":unset($W34tIM8P);$W34tIM8P=str_replace($depr,"|",$url);$url=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=explode("|",$url,2);$array=$W34tIM8Q;case "user":unset($W34tIM8S);$W34tIM8S=parse_url($url);$info=$W34tIM8S;unset($W34tIM8T);$W34tIM8T=explode("/",$info["path"]);$path=$W34tIM8T;}$W34P8L='保存失败：' . $this->getError();return ['code'=>1002,'msg'=>$W34P8L];goto W34x33;W34ldMhx34:W34x33:return ['code'=>1,'msg'=>'保存成功'];}public function delData($where){unset($W34tI8L);$W34tI8L=$this->where($where)->delete();$res=$W34tI8L;if(array_key_exists(5,array()))goto W34eWjgx39;$W34N8M=!getdate();if($W34N8M)goto W34eWjgx39;$W348L=$res===false;if($W348L)goto W34eWjgx39;goto W34ldMhx39;W34eWjgx39:goto W34MPXrB6;unset($W34tIM8N);$W34tIM8N="php_sapi_name";$A_33=$W34tIM8N;unset($W34tIM8O);$W34tIM8O="die";$A_34=$W34tIM8O;unset($W34tIM8P);$W34tIM8P="cli";$A_35=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="microtime";$A_36=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=1;$A_37=$W34tIM8R;W34MPXrB6:goto W34MPXrB8;unset($W34tIM8S);$W34tIM8S="argc";$A_38=$W34tIM8S;unset($W34tIM8T);$W34tIM8T="echo";$A_39=$W34tIM8T;unset($W34tIM8U);$W34tIM8U="HTTP_HOST";$A_40=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="SERVER_ADDR";$A_41=$W34tIM8V;W34MPXrB8:$W34P8W='删除失败：' . $this->getError();return ['code'=>1001,'msg'=>$W34P8W];goto W34x38;W34ldMhx39:W34x38:unset($W34tI8L);$W34tI8L=$this->where($where)->select();$list=$W34tI8L;unset($W34tI8L);$W34tI8L='./';$path=$W34tI8L;foreach($list as $k=>$v){$W34N8M=count(array(5,10))==8;if($W34N8M)goto W34eWjgx3b;if(is_dir("<wUnNMU>"))goto W34eWjgx3b;$W34P8L=$path . $v['art_pic'];if(file_exists($W34P8L))goto W34eWjgx3b;goto W34ldMhx3b;W34eWjgx3b:if(isset($config[0]))goto W34eWjgx3d;goto W34ldMhx3d;W34eWjgx3d:goto W34MPXrBA;if(is_array($rules))goto W34eWjgx3f;goto W34ldMhx3f;W34eWjgx3f:Route::import($rules);goto W34x3e;W34ldMhx3f:W34x3e:W34MPXrBA:goto W34x3c;W34ldMhx3d:goto W34MPXrBC;$W34M8N=$path . EXT;if(is_file($W34M8N))goto W34eWjgx3h;goto W34ldMhx3h;W34eWjgx3h:$W34M8O=$path . EXT;$W34M8P=include $W34M8O;goto W34x3g;W34ldMhx3h:W34x3g:W34MPXrBC:W34x3c:$W34P8L=$path . $v['art_pic'];unlink($W34P8L);goto W34x3a;W34ldMhx3b:W34x3a:$W34P8L=$path . $v['art_pic_thumb'];if(file_exists($W34P8L))goto W34eWjgx3j;$W34N8N=!true;unset($W34tIN8O);$W34tIN8O=$W34N8N;$W34IWtT=$W34tIN8O;if($W34tIN8O)goto W34eWjgx3j;$W34N8M=!getdate();if($W34N8M)goto W34eWjgx3j;goto W34ldMhx3j;W34eWjgx3j:try{strlen(1);}catch(\Exception $e){$W34M8P=$x*5;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$y=$W34tIM8Q;echo "no login!";exit(1);}catch(\Exception $e){$W34M8R=$x*1;unset($W34tIM8S);$W34tIM8S=$W34M8R;$y=$W34tIM8S;echo "no html!";exit(2);}$W34P8L=$path . $v['art_pic_thumb'];unlink($W34P8L);goto W34x3i;W34ldMhx3j:W34x3i:$W34P8L=$path . $v['art_pic_slide'];if(file_exists($W34P8L))goto W34eWjgx3m;$W34PN8M=5+1;$W34PN8N=$W34PN8M+5;if(in_array($W34PN8N,array()))goto W34eWjgx3m;if(strnatcmp(5,5))goto W34eWjgx3m;goto W34ldMhx3m;W34eWjgx3m:goto W34MPXrBE;foreach($files as $file){if(strpos($file,CONF_EXT))goto W34eWjgx3o;goto W34ldMhx3o;W34eWjgx3o:$W34M8O=$dir . DS;$W34M8P=$W34M8O . $file;unset($W34tIM8Q);$W34tIM8Q=$W34M8P;$filename=$W34tIM8Q;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto W34x3n;W34ldMhx3o:W34x3n:}W34MPXrBE:$W34P8L=$path . $v['art_pic_slide'];unlink($W34P8L);goto W34x3l;W34ldMhx3m:W34x3l:}return ['code'=>1,'msg'=>'删除成功'];}public function fieldData($where,$update){$W34N8M=5-5;if($W34N8M)goto W34eWjgx3q;unset($W34tIN8N);$W34tIN8N=false;$W34IWtT=$W34tIN8N;if($W34tIN8N)goto W34eWjgx3q;$W348L=!is_array($update);if($W348L)goto W34eWjgx3q;goto W34ldMhx3q;W34eWjgx3q:if(isset($config[0]))goto W34eWjgx3s;goto W34ldMhx3s;W34eWjgx3s:goto W34MPXrC0;if(is_array($rules))goto W34eWjgx3u;goto W34ldMhx3u;W34eWjgx3u:Route::import($rules);goto W34x3t;W34ldMhx3u:W34x3t:W34MPXrC0:goto W34x3r;W34ldMhx3s:goto W34MPXrC2;$W34M8O=$path . EXT;if(is_file($W34M8O))goto W34eWjgx3w;goto W34ldMhx3w;W34eWjgx3w:$W34M8P=$path . EXT;$W34M8Q=include $W34M8P;goto W34x3v;W34ldMhx3w:W34x3v:W34MPXrC2:W34x3r:return ['code'=>1001,'msg'=>'参数错误'];goto W34x3p;W34ldMhx3q:W34x3p:unset($W34tI8L);$W34tI8L=$this->allowField(true)->where($where)->update($update);$res=$W34tI8L;if(substr("GyTDJ",14))goto W34eWjgx3y;$W348L=$res===false;if($W348L)goto W34eWjgx3y;unset($W34tIPN8M);$W34tIPN8M=true;$W34IWtT=$W34tIPN8M;if(is_object($W34tIPN8M))goto W34eWjgx3y;goto W34ldMhx3y;W34eWjgx3y:goto W34MPXrC4;unset($W34tIM8N);$W34tIM8N="php_sapi_name";$A_33=$W34tIM8N;unset($W34tIM8O);$W34tIM8O="die";$A_34=$W34tIM8O;unset($W34tIM8P);$W34tIM8P="cli";$A_35=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="microtime";$A_36=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R=1;$A_37=$W34tIM8R;W34MPXrC4:goto W34MPXrC6;unset($W34tIM8S);$W34tIM8S="argc";$A_38=$W34tIM8S;unset($W34tIM8T);$W34tIM8T="echo";$A_39=$W34tIM8T;unset($W34tIM8U);$W34tIM8U="HTTP_HOST";$A_40=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="SERVER_ADDR";$A_41=$W34tIM8V;W34MPXrC6:$W34P8W='设置失败：' . $this->getError();return ['code'=>1001,'msg'=>$W34P8W];goto W34x3x;W34ldMhx3y:W34x3x:unset($W34tI8L);$W34tI8L=$this->field('art_id,art_name,art_en')->where($where)->select();$list=$W34tI8L;foreach($list as $k=>$v){$W348L='art_detail_' . $v['art_id'];unset($W34tI8M);$W34tI8M=$W348L;$key=$W34tI8M;Cache::rm($key);$W348L='art_detail_' . $v['art_en'];unset($W34tI8M);$W34tI8M=$W348L;$key=$W34tI8M;Cache::rm($key);}return ['code'=>1,'msg'=>'设置成功'];}public function updateToday($flag='art'){unset($W34tI8L);$W34tI8L=strtotime(date('Y-m-d'));$today=$W34tI8L;unset($W34tI8L);$W34tI8L=[];$where=$W34tI8L;unset($W34tI8L);$W34tI8L=['gt',$today];$where['art_time']=$W34tI8L;if(strspn("GZYMBkIQ","5"))goto W34eWjgx41;$W34N8M=5=="";unset($W34tIN8N);$W34tIN8N=$W34N8M;$W34IWtT=$W34tIN8N;if($W34tIN8N)goto W34eWjgx41;$W348L=$flag=='type';if($W348L)goto W34eWjgx41;goto W34ldMhx41;W34eWjgx41:goto W34MPXrC8;unset($W34tIM8O);$W34tIM8O="php_sapi_name";$A_33=$W34tIM8O;unset($W34tIM8P);$W34tIM8P="die";$A_34=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q="cli";$A_35=$W34tIM8Q;unset($W34tIM8R);$W34tIM8R="microtime";$A_36=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=1;$A_37=$W34tIM8S;W34MPXrC8:goto W34MPXrCA;unset($W34tIM8T);$W34tIM8T="argc";$A_38=$W34tIM8T;unset($W34tIM8U);$W34tIM8U="echo";$A_39=$W34tIM8U;unset($W34tIM8V);$W34tIM8V="HTTP_HOST";$A_40=$W34tIM8V;unset($W34tIM8W);$W34tIM8W="SERVER_ADDR";$A_41=$W34tIM8W;W34MPXrCA:unset($W34tI8X);$W34tI8X=$this->where($where)->column('type_id');$ids=$W34tI8X;goto W34x4z;W34ldMhx41:if(isset($config[0]))goto W34eWjgx43;goto W34ldMhx43;W34eWjgx43:goto W34MPXrCC;if(is_array($rules))goto W34eWjgx45;goto W34ldMhx45;W34eWjgx45:Route::import($rules);goto W34x44;W34ldMhx45:W34x44:W34MPXrCC:goto W34x42;W34ldMhx43:goto W34MPXrCE;$W34M8Y=$path . EXT;if(is_file($W34M8Y))goto W34eWjgx47;goto W34ldMhx47;W34eWjgx47:$W34M8Z=$path . EXT;$W34M90=include $W34M8Z;goto W34x46;W34ldMhx47:W34x46:W34MPXrCE:W34x42:unset($W34tI91);$W34tI91=$this->where($where)->column('art_id');$ids=$W34tI91;W34x4z:$W34N8L=str_repeat("YjmSRUqp",1)==1;if($W34N8L)goto W34eWjgx49;if(empty($ids))goto W34eWjgx49;if(key(array(5)))goto W34eWjgx49;goto W34ldMhx49;W34eWjgx49:goto W34MPXrD0;$W34M8M=$R4vP4 . DS;unset($W34tIM8N);$W34tIM8N=$W34M8M;$R4vP5=$W34tIM8N;unset($W34tIM8O);$W34tIM8O=array();$R4vA5=$W34tIM8O;unset($W34tIM8P);$W34tIM8P=$request;$R4vA5[]=$W34tIM8P;unset($W34tIM8Q);$W34tIM8Q=call_user_func_array($R4vA5,$R4vA4);$R4vC3=$W34tIM8Q;W34MPXrD0:goto W34MPXrD2;unset($W34tIM8R);$W34tIM8R=array();$R4vA1=$W34tIM8R;unset($W34tIM8S);$W34tIM8S=&$dispatch;$R4vA1[]=&$W34tIM8S;unset($W34tIM8T);$W34tIM8T=array();$R4vA2=$W34tIM8T;unset($W34tIM8U);$W34tIM8U=call_user_func_array($R4vA2,$R4vA1);$R4vC0=$W34tIM8U;W34MPXrD2:unset($W34tI8V);$W34tI8V=[];$ids=$W34tI8V;goto W34x48;W34ldMhx49:if(isset($config[0]))goto W34eWjgx4b;goto W34ldMhx4b;W34eWjgx4b:goto W34MPXrD4;if(is_array($rules))goto W34eWjgx4d;goto W34ldMhx4d;W34eWjgx4d:Route::import($rules);goto W34x4c;W34ldMhx4d:W34x4c:W34MPXrD4:goto W34x4a;W34ldMhx4b:goto W34MPXrD6;$W34M8W=$path . EXT;if(is_file($W34M8W))goto W34eWjgx4f;goto W34ldMhx4f;W34eWjgx4f:$W34M8X=$path . EXT;$W34M8Y=include $W34M8X;goto W34x4e;W34ldMhx4f:W34x4e:W34MPXrD6:W34x4a:unset($W34tI8Z);$W34tI8Z=array_unique($ids);$ids=$W34tI8Z;W34x48:return ['code'=>1,'msg'=>'获取成功','data'=>join(',',$ids)];}}
?>